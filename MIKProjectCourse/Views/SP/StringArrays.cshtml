@{
    ViewData["Title"] = "String Arrays";
}

<body data-topic="stringarrays">
    <div class="container">
        <h1 class="mb-4">Низи од Стрингови: Работа со колекции од текст</h1>

        <p><strong>Стринг низи</strong> се посебни низи кои чуваат колекции од текст (зборови, имиња, реченици) наместо броеви. Идеални се за управување со листи на имиња, мени опции или било која група на текстуални елементи.</p>

        <h2>Што се стринг низи?</h2>
        <p>Стринг низата е како листа од означени кутии, каде секоја кутија содржи дел од текст. Слично како и бројчани низи, користиме <strong>индекси</strong> почнувајќи од 0 за пристап до секој елемент.</p>

        <div class="code-container">
            <div class="code-header">Визуелна претстава</div>
            <div class="code-content">
<pre>
Индекс:      [0]        [1]        [2]        [3]
Содржина:  "Apple"   "Banana"   "Cherry"   "Date"
Пристап:   fruits[0] fruits[1] fruits[2] fruits[3]
</pre>
            </div>
        </div>

        <h2>Пример 1: Основно создавање на стринг низа</h2>
        <p>Креирање и пристап до едноставна стринг низа:</p>

        <div class="code-container">
            <div class="form-check form-switch mb-2">
                <input class="form-check-input" type="checkbox" id="example1Toggle" onchange="stringArrays.convertCode('example1')">
                <label class="form-check-label" for="example1Toggle">Претвори во C#</label>
            </div>
            <div class="code-content">
<pre class="codeBlock" id="example1Code">
// Креирање на низа од овошје
string fruits[4] = {"Apple", "Banana", "Cherry", "Date"};

// Пристап до поединечни овошја
cout << "Прво овошје: " << fruits[0] << endl;   // Apple
cout << "Трето овошје: " << fruits[2] << endl;   // Cherry
cout << "Последно овошје: " << fruits[3] << endl;    // Date
</pre>
            </div>
            <div class="result-box" id="example1Result">
                <strong>Резултат:</strong><br>Прво овошје: Apple<br>Трето овошје: Cherry<br>Последно овошје: Date<br>
                <em>Објаснување:</em> Низата чува 4 имиња на овошје. Пристапуваме до нив користејќи ги нивните индекси (0, 2 и 3).
            </div>
        </div>

        <h2>Пример 2: Прелистување низ стринг низа</h2>
        <p>Користење на <code>for</code> циклус за обработка на сите елементи:</p>

        <div class="code-container">
            <div class="form-check form-switch mb-2">
                <input class="form-check-input" type="checkbox" id="example2Toggle" onchange="stringArrays.convertCode('example2')">
                <label class="form-check-label" for="example2Toggle">Претвори во C#</label>
            </div>
            <div class="code-content">
<pre class="codeBlock" id="example2Code">
string colors[5] = {"Red", "Green", "Blue", "Yellow", "Purple"};

// Циклус низ сите бои
cout << "Моите омилени бои:" << endl;
for (int i = 0; i < 5; i++) {
    cout << (i + 1) << ". " << colors[i] << endl;
}
</pre>
            </div>
            <div class="result-box" id="example2Result">
                <strong>Резултат:</strong><br>Моите омилени бои:<br>1. Red<br>2. Green<br>3. Blue<br>4. Yellow<br>5. Purple<br>
                <em>Објаснување:</em> Циклусот го обработува секој елемент. Користиме <code>(i + 1)</code> за прикажување на броеви од 1-5 наместо 0-4.
            </div>
        </div>

        <h2>Пример 3: Модифицирање на стринг низи</h2>
        <p>Може да се менуваат елементи на стринг низата како и бројчаните низи:</p>

        <div class="code-container">
            <div class="form-check form-switch mb-2">
                <input class="form-check-input" type="checkbox" id="example3Toggle" onchange="stringArrays.convertCode('example3')">
                <label class="form-check-label" for="example3Toggle">Претвори во C#</label>
            </div>
            <div class="code-content">
<pre class="codeBlock" id="example3Code">
string weekdays[3] = {"Monday", "Tuesday", "Wednesday"};

// Промена на вториот ден
weekdays[1] = "Fantastic Tuesday";

// Прикажување на сите денови
cout << "Променети денови:" << endl;
for (int i = 0; i < 3; i++) {
    cout << weekdays[i] << endl;
}
</pre>
            </div>
            <div class="result-box" id="example3Result">
                <strong>Резултат:</strong><br>Променети денови:<br>Monday<br>Fantastic Tuesday<br>Wednesday<br>
                <em>Објаснување:</em> Променивме вредност на индекс 1 од "Tuesday" во "Fantastic Tuesday". Останатите вредности остануваат непроменети.
            </div>
        </div>

        <h2>Пример 4: Пребарување во стринг низи</h2>
        <p>Наоѓање на специфични елементи во стринг низата:</p>

        <div class="code-container">
            <div class="form-check form-switch mb-2">
                <input class="form-check-input" type="checkbox" id="example4Toggle" onchange="stringArrays.convertCode('example4')">
                <label class="form-check-label" for="example4Toggle">Претвори во C#</label>
            </div>
            <div class="code-content">
<pre class="codeBlock" id="example4Code">
string animals[6] = {"Dog", "Cat", "Elephant", "Lion", "Cat", "Giraffe"};
string searchFor = "Cat";
int count = 0;

// Пребарување на "Cat" во низата
for (int i = 0; i < 6; i++) {
    if (animals[i] == searchFor) {
        count++;
        cout << "Пронајдено " << searchFor << " на позиција " << i << endl;
    }
}

cout << "Вкупно пронајдено " << searchFor << ": " << count << endl;
</pre>
            </div>
            <div class="result-box" id="example4Result">
                <strong>Резултат:</strong><br>Пронајдено Cat на позиција 1<br>Пронајдено Cat на позиција 4<br>Вкупно пронајдено Cats: 2<br>
                <em>Објаснување:</em> Програмата пребарува низата и брои колку пати се појавува "Cat". Го наоѓа на позициите 1 и 4 (индекси започнуваат од 0).
            </div>
        </div>

        <h2>Пример 5: Студентски имиња</h2>
        <p>Практичен пример со стринг низи за училница:</p>

        <div class="code-container">
            <div class="form-check form-switch mb-2">
                <input class="form-check-input" type="checkbox" id="example5Toggle" onchange="stringArrays.convertCode('example5')">
                <label class="form-check-label" for="example5Toggle">Претвори во C#</label>
            </div>
            <div class="code-content">
<pre class="codeBlock" id="example5Code">
string students[5] = {"Alice", "Bob", "Charlie", "Diana", "Ethan"};
int studentNumber;

cout << "Внеси број на студент (1-5): ";
cin >> studentNumber;

// Претворање во индекс почнувајќи од 0
int index = studentNumber - 1;

if (index >= 0 && index < 5) {
    cout << "Студент " << studentNumber << " е: " << students[index] << endl;
} else {
    cout << "Невалиден број на студент!" << endl;
}
</pre>
            </div>
            <div class="result-box" id="example5Result">
                <strong>Резултат (ако корисникот внесе 3):</strong> Студент 3 е: Charlie<br>
                <em>Објаснување:</em> Програмата бара број на студент (1-5), го конвертира во индекс (0-4) и прикажува соодветно име. Проверката на валидност гарантира дека бројот е во опсег.
            </div>
        </div>

        <h2>Пример 6: Стринг низи со променлива за големина</h2>
        <p>Користење на должината на низата во циклус (погибкава варијанта):</p>

        <div class="code-container">
            <div class="form-check form-switch mb-2">
                <input class="form-check-input" type="checkbox" id="example6Toggle" onchange="stringArrays.convertCode('example6')">
                <label class="form-check-label" for="example6Toggle">Претвори во C#</label>
            </div>
            <div class="code-content">
<pre class="codeBlock" id="example6Code">
string cities[] = {"London", "Paris", "Tokyo", "New York", "Sydney"};
int arraySize = 5;  // Знаеме дека големината е 5

cout << "Светски градови:" << endl;
for (int i = 0; i < arraySize; i++) {
    cout << "- " << cities[i] << endl;
}

cout << "Вкупно градови: " << arraySize << endl;
</pre>
            </div>
            <div class="result-box" id="example6Result">
                <strong>Резултат:</strong><br>Светски градови:<br>- London<br>- Paris<br>- Tokyo<br>- New York<br>- Sydney<br>Вкупно градови: 5<br>
                <em>Објаснување:</em> Користењето на променлива за големината ја прави кодот пофлексибилен. Ако ја смениме низата, само <code>arraySize</code> треба да се промени.
            </div>
        </div>

        <h2>Важно за стринг низи</h2>
        <div class="code-container">
            <div class="code-header">Клучни разлики од бројчани низи</div>
            <div class="code-content">
<pre>
// Стринг низи чуваат ТЕКСТ
string names[3] = {"John", "Jane", "Jack"};

// Бројчани низи чуваат БРОЕВИ
int scores[3] = {95, 87, 92};

// Пристап е ист
cout << names[0];   // "John"
cout << scores[0];  // 95

// Споредба користи == 
if (names[1] == "Jane") {
    cout << "Пронајдена Jane!";
}

// Стринг низите често бараат повеќе меморија
// Секој стринг може да има различна должина
</pre>
            </div>
        </div>

        <h2>Визуелна претстава</h2>
        <div class="code-container">
            <div class="code-header">Мемориска претстава</div>
            <div class="code-content">
<pre>
Низа во меморија:
[0] → Адреса 1000 → "Apple"   (5 карактери + null)
[1] → Адреса 1010 → "Banana"  (6 карактери + null)
[2] → Адреса 1020 → "Cherry"  (6 карактери + null)

Секој стринг:
- Има своја мемориска локација
- Може да има различна должина
- Завршува со специјален нул карактер (\0)
- Пристапува преку индекс
</pre>
            </div>
        </div>

        <h2>Резиме</h2>
        <ul>
            <li><strong>Стринг низи</strong> чуваат колекции од текст (зборови, имиња)</li>
            <li>Користете <strong>индекси почнувајќи од 0</strong> за пристап до елементите</li>
            <li><strong>Комбинирајте со циклуси</strong> за ефикасна обработка на сите елементи</li>
            <li>Може да <strong>модифицирате</strong> елементи после создавање</li>
            <li>Чести примени: листи на имиња, мени опции, пребарливи колекции</li>
            <li>Стринг низите се есенцијални за <strong>реални примени</strong> како студентски записи, листи на инвентар и мени системи</li>
        </ul>

        <div class="navigation-buttons">
            <a href="@Url.Action("Arrays", "SP")" class="btn btn-outline-primary ajax-link">← Arrays</a>
            <a href="@Url.Action("Index", "OOP")" class="btn btn-primary ajax-link">Следно поглавје →</a>
        </div>
    </div>
    <style>
        .container {
            max-width: 800px;
            padding: 20px;
            background-color: var(--bs-body-bg);
        }

        h1, h2 {
            color: var(--bs-heading-color);
            margin-bottom: 15px;
        }

        p, li, code {
            color: var(--bs-body-color);
            line-height: 1.6;
        }

        .code-container {
            margin: 25px 0;
            border: 1px solid var(--bs-border-color);
            border-radius: 5px;
            overflow: hidden;
            background-color: var(--code-bg);
        }

        .code-header {
            background-color: var(--code-header-bg);
            padding: 10px 15px;
            border-bottom: 1px solid var(--bs-border-color);
            font-family: 'SFMono-Regular', Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
            font-size: 0.9rem;
            color: var(--bs-body-color);
        }

        .code-content {
            padding: 15px;
            overflow-x: auto;
        }

        pre {
            margin: 0;
            white-space: pre-wrap;
            background-color: transparent;
            font-family: 'SFMono-Regular', Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
        }

        .result-box {
            padding: 10px 15px;
            background-color: rgba(0, 123, 255, 0.1);
            border-top: 1px solid var(--bs-border-color);
            font-size: 0.95rem;
        }

        .fade {
            opacity: 0;
            transition: opacity 0.25s ease;
        }

        .navigation-buttons {
            display: flex;
            justify-content: space-between;
            margin-top: 30px;
        }

        .btn {
            padding: 8px 20px;
            border-radius: 4px;
            font-weight: 500;
            text-decoration: none;
        }

        .btn-primary {
            background-color: var(--bs-primary);
            border-color: var(--bs-primary);
            color: #fff;
        }

        .btn-outline-primary {
            color: var(--bs-primary);
            border-color: var(--bs-primary);
            background-color: transparent;
        }
    </style>

    <script>
        // Create a namespace for String Arrays page to avoid conflicts
        window.stringArrays = {
            // Data for walkthrough
            fullCodeLines: [
                'string colors[3] = {"Red", "Green", "Blue"};',
                'for (int i = 0; i < 3; i++) {',
                '    cout << "Color " << i << ": " << colors[i] << endl; // ⬅ Run Code Block',
                '}'
            ],
            
            traceSteps: [
                { line: 0, vars: 'i = ?, colors = ["Red","Green","Blue"]', exp: 'Creates a string array with 3 color names.' },
                { line: 1, vars: 'i = 0, colors = ["Red","Green","Blue"]', exp: 'Initializes loop: <code>i = 0</code>. Checks condition: (0 < 3) is TRUE.' },
                { line: 2, vars: 'i = 0, colors = ["Red","Green","Blue"]', exp: 'Iteration 1: Prints "Color 0: Red".' },
                { line: 1, vars: 'i = 1, colors = ["Red","Green","Blue"]', exp: 'Increment: <code>i++</code> (i is now 1). Check: (1 < 3) is TRUE.' },
                { line: 2, vars: 'i = 1, colors = ["Red","Green","Blue"]', exp: 'Iteration 2: Prints "Color 1: Green".' },
                { line: 1, vars: 'i = 2, colors = ["Red","Green","Blue"]', exp: 'Increment: <code>i++</code> (i is now 2). Check: (2 < 3) is TRUE.' },
                { line: 2, vars: 'i = 2, colors = ["Red","Green","Blue"]', exp: 'Iteration 3: Prints "Color 2: Blue".' },
                { line: 1, vars: 'i = 3, colors = ["Red","Green","Blue"]', exp: 'Increment: <code>i++</code> (i is now 3). Check: (3 < 3) is FALSE. Loop ends.' }
            ],
            
            currentTraceStep: 0,
            
            // Code snippets for conversion
            cppSnippets: {
                example1: `// Создади низа од овошје
string fruits[4] = {"Apple", "Banana", "Cherry", "Date"};

        // Пристапете до индивидуални плодови
cout << "First fruit: " << fruits[0] << endl;   // Apple
cout << "Third fruit: " << fruits[2] << endl;   // Cherry
cout << "Last fruit: " << fruits[3] << endl;    // Date`,
                example2: `string colors[5] = {"Red", "Green", "Blue", "Yellow", "Purple"};

        // Прелистајте ги сите бои
cout << "My favorite colors:" << endl;
for (int i = 0; i < 5; i++) {
    cout << (i + 1) << ". " << colors[i] << endl;
}`,
                example3: `string weekdays[3] = {"Monday", "Tuesday", "Wednesday"};

        //Променете го вториот ден од работната недела
weekdays[1] = "Fantastic Tuesday";

        //Прикажи ги сите работни денови
cout << "Modified weekdays:" << endl;
for (int i = 0; i < 3; i++) {
    cout << weekdays[i] << endl;
}`,
                example4: `string animals[6] = {"Dog", "Cat", "Elephant", "Lion", "Cat", "Giraffe"};
string searchFor = "Cat";
int count = 0;

        //Пребарајте „Мачка“ во низата
for (int i = 0; i < 6; i++) {
    if (animals[i] == searchFor) {
        count++;
        cout << "Found " << searchFor << " at position " << i << endl;
    }
}

cout << "Total " << searchFor << "s found: " << count << endl;`,
                example5: `string students[5] = {"Alice", "Bob", "Charlie", "Diana", "Ethan"};
int studentNumber;

cout << "Enter student number (1-5): ";
cin >> studentNumber;

        //Конвертирај во индекс базиран на 0
int index = studentNumber - 1;

if (index >= 0 && index < 5) {
    cout << "Student " << studentNumber << " is: " << students[index] << endl;
} else {
    cout << "Invalid student number!" << endl;
}`,
                example6: `string cities[] = {"London", "Paris", "Tokyo", "New York", "Sydney"};
        int arraySize = 5;  //Знаеме дека големината е 5

        //Подобро: користете arraySize наместо хардкодиран број
cout << "World cities:" << endl;
for (int i = 0; i < arraySize; i++) {
    cout << "- " << cities[i] << endl;
}

cout << "Total cities: " << arraySize << endl;`
            },

            csharpSnippets: {
                        example1: `// Направете низа од овошје
string[] fruits = {"Apple", "Banana", "Cherry", "Date"};

        //Пристапете до индивидуални плодови
Console.WriteLine("First fruit: " + fruits[0]);   // Apple
Console.WriteLine("Third fruit: " + fruits[2]);   // Cherry
Console.WriteLine("Last fruit: " + fruits[3]);    // Date`,
                example2: `string[] colors = {"Red", "Green", "Blue", "Yellow", "Purple"};

//Прелистајте ги сите бои
Console.WriteLine("My favorite colors:");
for (int i = 0; i < colors.Length; i++)
{
    Console.WriteLine((i + 1) + ". " + colors[i]);
}`,
                example3: `string[] weekdays = {"Monday", "Tuesday", "Wednesday"};

        // Променете го вториот ден од работната недела
weekdays[1] = "Fantastic Tuesday";

        // Прикажи ги сите работни денови

Console.WriteLine("Modified weekdays:");
for (int i = 0; i < weekdays.Length; i++)
{
    Console.WriteLine(weekdays[i]);
}`,
                example4: `string[] animals = {"Dog", "Cat", "Elephant", "Lion", "Cat", "Giraffe"};
string searchFor = "Cat";
int count = 0;

        // Пребарувај „Мачка“ во низата
for (int i = 0; i < animals.Length; i++)
{
    if (animals[i] == searchFor)
    {
        count++;
        Console.WriteLine("Found " + searchFor + " at position " + i);
    }
}

Console.WriteLine("Total " + searchFor + "s found: " + count);`,
                example5: `string[] students = {"Alice", "Bob", "Charlie", "Diana", "Ethan"};
int studentNumber;

Console.Write("Enter student number (1-5): ");
studentNumber = Convert.ToInt32(Console.ReadLine());

        // Конвертирај во индекс базиран на 0
int index = studentNumber - 1;

if (index >= 0 && index < students.Length)
{
    Console.WriteLine("Student " + studentNumber + " is: " + students[index]);
}
else
{
    Console.WriteLine("Invalid student number!");
}`,
                example6: `string[] cities = {"London", "Paris", "Tokyo", "New York", "Sydney"};

        // Користи својството Length на низата
Console.WriteLine("World cities:");
for (int i = 0; i < cities.Length; i++)
{
    Console.WriteLine("- " + cities[i]);
}

Console.WriteLine("Total cities: " + cities.Length);`
            },

            // Function to convert code between C++ and C#
            convertCode: function(id) {
                const toggle = document.getElementById(id + "Toggle");
                const isCSharp = toggle.checked;
                const codeBlock = document.getElementById(id + "Code");

                if (codeBlock) {
                    codeBlock.classList.add("fade");
                    setTimeout(() => {
                        codeBlock.textContent = isCSharp ? this.csharpSnippets[id] : this.cppSnippets[id];
                        codeBlock.classList.remove("fade");
                    }, 250);
                }
            },

            // Function to update walkthrough display
            updateWalkthrough: function(step) {
                const walkthroughCodeBase = document.getElementById('walkthroughCodeBase');
                const walkthroughVariables = document.getElementById('walkthroughVariables');
                const walkthroughExplanation = document.getElementById('walkthroughExplanation');
                const nextStepBtn = document.getElementById('nextStepBtn');

                if (!walkthroughCodeBase || !walkthroughVariables || !walkthroughExplanation) return;

                const data = this.traceSteps[step];
                let codeContent = '';
                const activeLineIndex = data.line;
                
                this.fullCodeLines.forEach((line, index) => {
                    if (index === activeLineIndex) {
                        codeContent += `<span style="background-color: yellow; color: black;">${line.replace('// ⬅ Run Code Block', '⬅ ACTIVE')}</span>\n`;
                    } else if (line.includes('// ⬅ Run Code Block')) {
                        codeContent += `// ${line.replace('// ⬅ Run Code Block', '').trim()}\n`;
                    } else if (index === 1 && activeLineIndex !== 1 && activeLineIndex !== 2) {
                        codeContent += `// ${line.trim()}\n`;
                    } else if (index !== activeLineIndex) {
                        codeContent += `${line}\n`;
                    }
                });
                
                walkthroughCodeBase.innerHTML = codeContent;
                walkthroughVariables.textContent = data.vars;
                walkthroughExplanation.innerHTML = `<em>Explanation:</em> ${data.exp}`;
                
                if (step === this.traceSteps.length - 1 && nextStepBtn) {
                    walkthroughExplanation.innerHTML += '<br><strong>Trace finished! Output shows all 3 colors.</strong>';
                    nextStepBtn.disabled = true;
                }
            },

            nextStep: function() {
                if (this.currentTraceStep < this.traceSteps.length) {
                    this.updateWalkthrough(this.currentTraceStep);
                    this.currentTraceStep++;
                }
            },

            init: function() {
                // Initialize code examples
                for (let i = 1; i <= 6; i++) {
                    this.convertCode('example' + i);
                }

                const nextStepBtn = document.getElementById('nextStepBtn');
                if (nextStepBtn) {
                    // Reset state
                    this.currentTraceStep = 0;
                    this.updateWalkthrough(0);
                    this.currentTraceStep = 1;
                    
                    nextStepBtn.addEventListener('click', () => this.nextStep());
                    nextStepBtn.disabled = false;
                }
            }
        };

        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', () => {
                window.stringArrays.init();
            });
        } else {
            window.stringArrays.init();
        }
    </script>
</body>