@{
    ViewData["Title"] = "OOP - Objects";
}

<body data-topic="objects">
<div class="container">
    <h1 class="mb-4 text-center">Objects: Bringing Blueprints to Life</h1>

    <p><strong>Objects</strong> are the <strong>actual things</strong> you create from a class blueprint. If a class is a recipe, then objects are the actual meals you cook using that recipe!</p>

    <div class="note-box">
        <strong>Note:</strong> In the <a href="@Url.Action("Classes", "OOP")" class="ajax-link"><strong>Classes lesson</strong></a>, we briefly mentioned objects when we created actual students and products from class blueprints. Now, we'll dive <strong>DEEPER</strong> into what objects really are and how they work!
    </div>

    <p>You use objects in real life every day:</p>
    <ul>
        <li>A <strong>cookie</strong> made from a cookie cutter (class)</li>
        <li>A <strong>specific car</strong> built from a car design (class)</li>
        <li>Your <strong>Instagram account</strong> created from the User blueprint (class)</li>
        <li>This <strong>specific webpage</strong> loaded from the Page template (class)</li>
    </ul>

    <h2 class="text-center">What is an Object?</h2>
    <p>An object is an <strong>instance</strong> of a class. Think of it like this:</p>
    
    <div class="code-container">
        <div class="code-header">Class vs Object Relationship</div>
        <div class="code-content">
<pre>
CLASS (Blueprint/Template)      OBJECTS (Actual Things)
────────────────────────────────────────────────────────
Cookie Cutter                   Actual Cookies
Recipe                          Cakes You Bake
Car Design                      Cars on the Road
Student Form                    Individual Students

ONE Class can create            MANY Objects
</pre>
        </div>
    </div>

    <p><strong>Key Idea:</strong> Classes define WHAT things are, Objects are ACTUAL things with their own data.</p>

    <h2 class="text-center">Creating Objects: The 'new' Keyword</h2>
    <p>You create objects using the <code>new</code> keyword. This is like saying "Make me a new one of these!"</p>
    
    <div class="code-container">
        <div class="code-header">Creating Objects Syntax</div>
        <div class="code-content">
<pre>
// Class Definition (Blueprint)
public class Student
{
    public string Name;
    public int Age;
}

// Creating Objects (Actual Students)
Student student1 = new Student();  // First student object
Student student2 = new Student();  // Second student object
Student student3 = new Student();  // Third student object

// Each object is SEPARATE and UNIQUE!
</pre>
        </div>
    </div>

    <h2 class="text-center">Example 1: Student Objects - Going Deeper</h2>
    <p>Remember in Classes lesson we created students? Let's explore what that REALLY means:</p>
    
    <div class="code-container">
        <div class="form-check form-switch mb-2">
            <input class="form-check-input" type="checkbox" id="example1Toggle" onchange="oopObjects.convertCode('example1')">
            <label class="form-check-label" for="example1Toggle">Show Memory Visualization</label>
        </div>
        <div class="code-content">
<pre class="codeBlock" id="example1Code">
// Class Definition (Blueprint) - ONE copy exists
public class Student
{
    public string Name;
    public int Age;
    public string Major;
    
    public void Introduce()
    {
        Console.WriteLine("Hi, I'm " + Name + ", studying " + Major);
    }
}

// Creating THREE separate objects
Student student1 = new Student();
student1.Name = "Alice";
student1.Age = 20;
student1.Major = "Computer Science";

Student student2 = new Student();
student2.Name = "Bob";
student2.Age = 22;
student2.Major = "Mathematics";

Student student3 = new Student();
student3.Name = "Charlie";
student3.Age = 21;
student3.Major = "Biology";

// Each object works independently
student1.Introduce();  // Uses Alice's data
student2.Introduce();  // Uses Bob's data
student3.Introduce();  // Uses Charlie's data
</pre>
        </div>
        <div class="result-box" id="example1Result">
            <strong>Output:</strong><br>
            Hi, I'm Alice, studying Computer Science<br>
            Hi, I'm Bob, studying Mathematics<br>
            Hi, I'm Charlie, studying Biology<br><br>
            <em>Deep Insight:</em> We have ONE Student class, but THREE separate objects in memory. Each object has its own space for Name, Age, and Major. When <code>student1.Introduce()</code> runs, it uses <code>student1</code>'s data, not <code>student2</code>'s or <code>student3</code>'s!
        </div>
    </div>

    <h2 class="text-center">Interactive Walkthrough: Object Creation in Memory</h2>
    <p>Watch how objects get created in computer memory:</p>

    <div class="code-container">
        <div class="code-header">Step-by-Step Object Creation</div>
        <div class="code-content">
<pre id="walkthroughCodeBase">
public class Book
{
    public string Title;
    public string Author;
    
    public void Display()
    {
        Console.WriteLine(Title + " by " + Author);
    }
}

// We'll create books step by step
// Book book1 = new Book();
// Book book2 = new Book();
</pre>
        </div>
    </div>

    <div class="code-container">
        <div class="code-header">Memory State</div>
        <div class="code-content">
<pre id="walkthroughVariables">
MEMORY LAYOUT:
[Class Area] Book class definition
[Heap] No book objects yet
</pre>
        </div>
        <div class="result-box" id="walkthroughExplanation">
            <em>Click <strong>Next</strong> to see how objects are created in memory:</em>
        </div>
        <button class="btn btn-primary mt-2" id="nextStepBtn">Next →</button>
    </div>

    <h2 class="text-center">Visual Diagram: Objects in Memory</h2>
    
    <div class="code-container">
        <div class="code-header">How Objects Really Work</div>
        <div class="code-content">
<pre>
COMPUTER MEMORY:

[CLASS AREA - ONE COPY]
┌─────────────────────────┐
│      Student Class      │
├─────────────────────────┤
│ - string Name           │ ← Method code lives here
│ - int Age               │
│ + void Introduce() {    │
│     // Code here        │
│   }                     │
└─────────────────────────┘
↑ Only ONE copy of the code

[HEAP - SEPARATE OBJECTS]
┌─────────────────────────┐    ┌─────────────────────────┐    ┌─────────────────────────┐
│     student1 Object     │    │     student2 Object     │    │     student3 Object     │
├─────────────────────────┤    ├─────────────────────────┤    ├─────────────────────────┤
│ Name = "Alice"          │    │ Name = "Bob"            │    │ Name = "Charlie"        │
│ Age = 20                │    │ Age = 22                │    │ Age = 21                │
│ Major = "CS"            │    │ Major = "Math"          │    │ Major = "Biology"       │
└───────┬─────────────────┘    └───────┬─────────────────┘    └───────┬─────────────────┘
        │                              │                              │
        └─────── All objects SHARE ────┴────── the same CLASS CODE ───┘

When student1.Introduce() runs:
1. Computer finds student1 object
2. Gets student1's Name ("Alice")
3. Uses the SAME Introduce() code from Class Area
4. Prints: "Hi, I'm Alice, studying Computer Science"
</pre>
        </div>
    </div>

    <h2 class="text-center">Example 2: Objects in E-commerce - The Real Story</h2>
    <p>In our Classes lesson, we saw products. Now let's understand the OBJECTS behind them:</p>
    
    <div class="code-container">
        <div class="form-check form-switch mb-2">
            <input class="form-check-input" type="checkbox" id="example2Toggle" onchange="oopObjects.convertCode('example2')">
            <label class="form-check-label" for="example2Toggle">Show Inventory System</label>
        </div>
        <div class="code-content">
<pre class="codeBlock" id="example2Code">
public class Product
{
    public string Name;
    public decimal Price;
    public int Stock;
    
    public bool IsAvailable()
    {
        return Stock > 0;
    }
    
    public void Sell(int quantity)
    {
        if (quantity <= Stock)
        {
            Stock -= quantity;  // Reduce stock
            decimal total = Price * quantity;
            Console.WriteLine("Sold " + quantity + " of " + Name + " for $" + total);
        }
        else
        {
            Console.WriteLine("Not enough " + Name + " in stock!");
        }
    }
}

// Real inventory - each product is a SEPARATE object
Product laptop = new Product();
laptop.Name = "Dell XPS 13";
laptop.Price = 999.99m;
laptop.Stock = 10;  // laptop object has Stock = 10

Product phone = new Product();
phone.Name = "iPhone 15";
phone.Price = 799.99m;
phone.Stock = 5;    // phone object has Stock = 5

// Customers buy products
Console.WriteLine("=== Sales Transactions ===");
laptop.Sell(3);    // Reduces laptop.Stock to 7
phone.Sell(2);     // Reduces phone.Stock to 3
laptop.Sell(8);    // Should fail - not enough stock

Console.WriteLine("\n=== Remaining Stock ===");
Console.WriteLine(laptop.Name + ": " + laptop.Stock + " left");
Console.WriteLine(phone.Name + ": " + phone.Stock + " left");
</pre>
        </div>
        <div class="result-box" id="example2Result">
            <strong>Output:</strong><br>
            === Sales Transactions ===<br>
            Sold 3 of Dell XPS 13 for $2999.97<br>
            Sold 2 of iPhone 15 for $1599.98<br>
            Not enough Dell XPS 13 in stock!<br><br>
            === Remaining Stock ===<br>
            Dell XPS 13: 7 left<br>
            iPhone 15: 3 left<br><br>
            <em>Key Insight:</em> Each product object MAINTAINS ITS OWN STOCK. When we sell laptops, only the <code>laptop</code> object's Stock changes. The <code>phone</code> object's Stock stays separate. This is why objects are perfect for real systems!
        </div>
    </div>

    <h2 class="text-center">Example 3: Object Independence</h2>
    <p>Objects don't affect each other - they're completely independent:</p>
    
    <div class="code-container">
        <div class="code-header">Independent Objects Demo</div>
        <div class="code-content">
<pre>
public class Counter
{
    public int Value = 0;
    
    public void Increment()
    {
        Value++;
        Console.WriteLine("Counter is now: " + Value);
    }
}

// Create TWO independent counters
Counter counterA = new Counter();
Counter counterB = new Counter();

Console.WriteLine("Counter A: " + counterA.Value);  // 0
Console.WriteLine("Counter B: " + counterB.Value);  // 0

// Only change counterA
counterA.Increment();  // counterA.Value becomes 1
counterA.Increment();  // counterA.Value becomes 2
counterA.Increment();  // counterA.Value becomes 3

// Check counterB - UNCHANGED!
Console.WriteLine("After changing counterA:");
Console.WriteLine("Counter A: " + counterA.Value);  // 3
Console.WriteLine("Counter B: " + counterB.Value);  // Still 0!

// Now change counterB
counterB.Increment();  // counterB.Value becomes 1
Console.WriteLine("Counter B after increment: " + counterB.Value);  // 1
</pre>
        </div>
    </div>

    <h2 class="text-center">Common Object Mistakes (And How to Avoid Them)</h2>
    <div class="code-container">
        <div class="code-header">Object Pitfalls</div>
        <div class="code-content">
<pre>
<span class="error-text">// MISTAKE 1: Thinking objects share data</span>
Student s1 = new Student();
Student s2 = new Student();
s1.Name = "Alice";
Console.WriteLine(s2.Name);  // EMPTY! Not "Alice"

<span class="correct-text">// SOLUTION: Each object needs its own data</span>
Student s1 = new Student();
Student s2 = new Student();
s1.Name = "Alice";
s2.Name = "Bob";  // Give EACH object its data

<span class="error-text">// MISTAKE 2: Forgetting 'new' </span>
Product p;         // Just a reference, no object!
p.Name = "Test";   // CRASH! Object doesn't exist

<span class="correct-text">// SOLUTION: Always use 'new'</span>
Product p = new Product();  // Actually creates it
p.Name = "Test";            // Now it works

<span class="error-text">// MISTAKE 3: Changing one object affects another</span>
Product p1 = new Product();
Product p2 = p1;           // p2 REFERENCES p1, not a new object
p1.Price = 100;
Console.WriteLine(p2.Price);  // Also 100! They're the SAME object

<span class="correct-text">// SOLUTION: Create separate objects</span>
Product p1 = new Product();
Product p2 = new Product();  // NEW object
p1.Price = 100;
p2.Price = 200;              // Different values
</pre>
        </div>
    </div>

    <h2 class="text-center">Key Object Concepts</h2>
    <div class="code-container">
        <div class="code-header">Object Essentials</div>
        <div class="code-content">
<pre>
1. OBJECT = INSTANCE OF A CLASS
   - Created with 'new' keyword
   - Has its own memory space
   - Contains actual data values

2. EACH OBJECT IS INDEPENDENT
   - Changing one doesn't change others
   - Each has its own property values
   - Methods use the object's own data

3. OBJECTS EXIST IN MEMORY
   - Class code: ONE copy (in method area)
   - Object data: SEPARATE for each object (in heap)
   - Objects reference the class code

4. REAL-WORLD ANALOGY:
   Class = Facebook user template
   Objects = Actual user accounts (yours, mine, friends')
   Your posts ≠ My posts (separate objects!)
   But we all use same Facebook code (class)

5. WHY OBJECTS MATTER:
   - Model real-world entities
   - Keep data organized and separate
   - Enable complex systems (social media, stores, banks)
   - Make code reusable and maintainable
</pre>
        </div>
    </div>

    <h2 class="text-center">Real-World Object Systems</h2>
    <div class="code-container">
        <div class="code-header">Objects in Action</div>
        <div class="code-content">
<pre>
SOCIAL MEDIA (Like Instagram):
User Class → Your account object, My account object
Post Class → Your photo object, My story object
Like Class → Your like on my photo (object), My like on your post (object)

ONLINE BANKING:
Account Class → Your checking account (object), Your savings account (object)
Transaction Class → Your deposit today (object), Your withdrawal yesterday (object)
Customer Class → You (object), Me (object)

GAME DEVELOPMENT:
Player Class → Player1 object, Player2 object, AI bot object
Weapon Class → Sword in Player1's hand (object), Bow in Player2's inventory (object)
PowerUp Class → Health boost you just collected (object)

E-COMMERCE:
Cart Class → Your shopping cart (object), My shopping cart (object)
Order Class → Your order #123 (object), My order #124 (object)
Review Class → Your review of product X (object), My review of product Y (object)
</pre>
        </div>
    </div>

    <h2 class="text-center">Quick Understanding Check</h2>
    <div class="quiz-container">
        <div class="quiz-question">
            <p>1. If you create <code>Car car1 = new Car();</code> and <code>Car car2 = new Car();</code>, then set <code>car1.Color = "Red"</code>, what is <code>car2.Color</code>?</p>
            <div class="quiz-options">
                <button class="btn btn-sm btn-outline-secondary" onclick="oopObjects.checkAnswer(1, 'A')">A) "Red"</button>
                <button class="btn btn-sm btn-outline-secondary" onclick="oopObjects.checkAnswer(1, 'B')">B) Empty/Null</button>
                <button class="btn btn-sm btn-outline-secondary" onclick="oopObjects.checkAnswer(1, 'C')">C) Error</button>
            </div>
            <div id="quiz1Result" class="quiz-result mt-2"></div>
        </div>
        
        <div class="quiz-question mt-3">
            <p>2. How many times is the class code loaded into memory when you create 100 objects?</p>
            <div class="quiz-options">
                <button class="btn btn-sm btn-outline-secondary" onclick="oopObjects.checkAnswer(2, 'A')">A) 100 times</button>
                <button class="btn btn-sm btn-outline-secondary" onclick="oopObjects.checkAnswer(2, 'B')">B) 1 time</button>
                <button class="btn btn-sm btn-outline-secondary" onclick="oopObjects.checkAnswer(2, 'C')">C) 0 times</button>
            </div>
            <div id="quiz2Result" class="quiz-result mt-2"></div>
        </div>
    </div>

    <h2 class="text-center">Summary: Objects Deep Dive</h2>
    <ul>
        <li><strong>Objects are instances</strong> - Actual things created from class blueprints</li>
        <li>Created with <code>new</code>: <code>Student s = new Student();</code></li>
        <li>Each object has <strong>its own memory space</strong> and data</li>
        <li>Objects are <strong>independent</strong> - changing one doesn't affect others</li>
        <li>Class code exists <strong>once</strong> in memory, shared by all objects</li>
        <li>Objects <strong>store state</strong> (data) that can change over time</li>
        <li>Real systems use objects to represent: Users, Products, Orders, Game characters, etc.</li>
        <li>Without objects, we couldn't have: Social media, Online stores, Banking apps, Video games!</li>
    </ul>

    <div class="next-steps">
        <h3 class="text-center">What's Next?</h3>
        <p>Now that you understand objects, you're ready for:</p>
        <ul>
            <li><strong>Inheritance</strong> - Creating new classes from existing ones</li>
        </ul>
    </div>

    <div class="navigation-buttons">
        <a href="@Url.Action("Constructors", "OOP")" class="btn btn-outline-primary ajax-link">← Constructors</a>
        <a href="@Url.Action("Inheritance", "OOP")" class="btn btn-primary ajax-link">Inheritance →</a>
    </div>
</div>

<style>
    .container {
        max-width: 800px;
        padding: 20px;
        background-color: var(--bs-body-bg);
    }

    h1, h2, h3 {
        color: var(--bs-heading-color);
        margin-bottom: 15px;
    }

    h1 {
        border-bottom: 2px solid var(--bs-primary);
        padding-bottom: 10px;
    }

    p, li, code {
        color: var(--bs-body-color);
        line-height: 1.6;
    }

    .note-box {
        background-color: rgba(255, 193, 7, 0.1);
        border: 1px solid var(--bs-warning);
        border-radius: 5px;
        padding: 15px;
        margin: 20px 0;
    }

    .note-box a {
        color: var(--bs-warning);
        text-decoration: underline;
    }

    .code-container {
        margin: 25px 0;
        border: 1px solid var(--bs-border-color);
        border-radius: 5px;
        overflow: hidden;
        background-color: var(--code-bg);
    }

    .code-header {
        background-color: var(--code-header-bg);
        padding: 10px 15px;
        border-bottom: 1px solid var(--bs-border-color);
        font-family: 'SFMono-Regular', Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
        font-size: 0.9rem;
        color: var(--bs-body-color);
    }

    .code-content {
        padding: 15px;
        overflow-x: auto;
    }

    pre {
        margin: 0;
        white-space: pre-wrap;
        background-color: transparent;
        font-family: 'SFMono-Regular', Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
    }

    .result-box {
        padding: 10px 15px;
        background-color: rgba(0, 123, 255, 0.1);
        border-top: 1px solid var(--bs-border-color);
        font-size: 0.95rem;
    }

    .quiz-container {
        background-color: rgba(108, 117, 125, 0.1);
        border: 1px solid var(--bs-secondary);
        border-radius: 5px;
        padding: 15px;
        margin: 20px 0;
    }

    .quiz-question {
        margin-bottom: 15px;
    }

    .quiz-options {
        display: flex;
        gap: 10px;
        flex-wrap: wrap;
        margin-top: 10px;
    }

    .quiz-result {
        min-height: 30px;
        padding: 5px 10px;
        border-radius: 4px;
        font-weight: 500;
    }

    .quiz-result.correct {
        background-color: rgba(40, 167, 69, 0.1);
        color: var(--bs-success);
        border: 1px solid var(--bs-success);
    }

    .quiz-result.incorrect {
        background-color: rgba(220, 53, 69, 0.1);
        color: var(--bs-danger);
        border: 1px solid var(--bs-danger);
    }

    .next-steps {
        background-color: rgba(111, 66, 193, 0.1);
        border: 1px solid var(--bs-indigo);
        border-radius: 5px;
        padding: 15px;
        margin: 20px 0;
    }

    .navigation-buttons {
        display: flex;
        justify-content: space-between;
        margin-top: 30px;
    }

    .btn {
        padding: 8px 20px;
        border-radius: 4px;
        font-weight: 500;
        text-decoration: none;
    }

    .btn-primary {
        background-color: var(--bs-primary);
        border-color: var(--bs-primary);
        color: #fff;
    }

    .btn-outline-primary {
        color: var(--bs-primary);
        border-color: var(--bs-primary);
        background-color: transparent;
    }

    .btn-outline-secondary {
        color: var(--bs-secondary);
        border-color: var(--bs-secondary);
        background-color: transparent;
    }

    .btn-sm {
        padding: 5px 10px;
        font-size: 0.875rem;
    }

    .text-center {
        text-align: center;
    }

    .correct-text {
        color: var(--bs-success);
        font-weight: 500;
    }

    .error-text {
        color: var(--bs-danger);
        font-weight: 500;
    }
</style>

<script>
    // Create a namespace for OOP Objects page
    window.oopObjects = {
        // Interactive walkthrough for object creation
        objectSteps: [
            {
                code: `public class Book
{
    public string Title;
    public string Author;
    
    public void Display()
    {
        Console.WriteLine(Title + " by " + Author);
    }
}

// We'll create books step by step
// Book book1 = new Book();
// Book book2 = new Book();`,
                vars: `MEMORY LAYOUT:
[Class Area] Book class definition loaded
[Heap] No book objects yet`,
                exp: "First, the Book class is loaded into memory. This happens ONCE, no matter how many objects we create."
            },
            {
                code: `public class Book
{
    public string Title;
    public string Author;
    
    public void Display()
    {
        Console.WriteLine(Title + " by " + Author);
    }
}

// We'll create books step by step
Book book1 = new Book();
// Book book2 = new Book();`,
                vars: `MEMORY LAYOUT:
[Class Area] Book class definition
[Heap] book1 object created
           ┌─────────────┐
 book1 →   │ Title: null │
           │ Author: null│
           └─────────────┘`,
                exp: "We create the FIRST book object using 'new Book()'. The computer allocates memory for it on the heap. Right now, its Title and Author are empty (null)."
            },
            {
                code: `public class Book
{
    public string Title;
    public string Author;
    
    public void Display()
    {
        Console.WriteLine(Title + " by " + Author);
    }
}

// We'll create books step by step
Book book1 = new Book();
book1.Title = "Harry Potter";
book1.Author = "J.K. Rowling";
// Book book2 = new Book();`,
                vars: `MEMORY LAYOUT:
[Class Area] Book class definition
[Heap] book1 object with data
           ┌────────────────────────┐
 book1 →   │ Title: "Harry Potter"  │
           │ Author: "J.K. Rowling" │
           └────────────────────────┘`,
                exp: "We fill book1 with actual data. Each object stores its OWN data. book1 now has Title='Harry Potter' and Author='J.K. Rowling' in its memory space."
            },
            {
                code: `public class Book
{
    public string Title;
    public string Author;
    
    public void Display()
    {
        Console.WriteLine(Title + " by " + Author);
    }
}

// We'll create books step by step
Book book1 = new Book();
book1.Title = "Harry Potter";
book1.Author = "J.K. Rowling";
Book book2 = new Book();`,
                vars: `MEMORY LAYOUT:
[Class Area] Book class definition (SHARED)
[Heap] TWO separate objects
           ┌────────────────────────┐    ┌─────────────┐
 book1 →   │ Title: "Harry Potter"  │    │ Title: null │ ← book2
           │ Author: "J.K. Rowling" │    │ Author: null│
           └────────────────────────┘    └─────────────┘`,
                exp: "We create a SECOND book object. book2 is COMPLETELY SEPARATE from book1. They both use the SAME Book class code, but have DIFFERENT memory spaces for their data."
            },
            {
                code: `public class Book
{
    public string Title;
    public string Author;
    
    public void Display()
    {
        Console.WriteLine(Title + " by " + Author);
    }
}

// We'll create books step by step
Book book1 = new Book();
book1.Title = "Harry Potter";
book1.Author = "J.K. Rowling";
Book book2 = new Book();
book2.Title = "The Hobbit";
book2.Author = "J.R.R. Tolkien";`,
                vars: `MEMORY LAYOUT:
[Class Area] Book class definition (SHARED)
[Heap] TWO separate objects with different data
           ┌────────────────────────┐    ┌───────────────────────┐
 book1 →   │ Title: "Harry Potter"  │    │ Title: "The Hobbit"   │ ← book2
           │ Author: "J.K. Rowling" │    │ Author: "J.R.R.Tolkien"│
           └────────────────────────┘    └───────────────────────┘`,
                exp: "We fill book2 with DIFFERENT data. book1 and book2 are INDEPENDENT objects. Changing book2 doesn't affect book1, and vice versa. This is the power of objects!"
            }
        ],

        // Code examples for toggles
        simpleExamples: {
            example1: `// Class Definition (Blueprint) - ONE copy exists
public class Student
{
    public string Name;
    public int Age;
    public string Major;
    
    public void Introduce()
    {
        Console.WriteLine("Hi, I'm " + Name + ", studying " + Major);
    }
}

// Creating THREE separate objects
Student student1 = new Student();
student1.Name = "Alice";
student1.Age = 20;
student1.Major = "Computer Science";

Student student2 = new Student();
student2.Name = "Bob";
student2.Age = 22;
student2.Major = "Mathematics";

Student student3 = new Student();
student3.Name = "Charlie";
student3.Age = 21;
student3.Major = "Biology";`,
            example2: `public class Product
{
    public string Name;
    public decimal Price;
    public int Stock;
    
    public bool IsAvailable()
    {
        return Stock > 0;
    }
    
    public void Sell(int quantity)
    {
        if (quantity <= Stock)
        {
            Stock -= quantity;
            decimal total = Price * quantity;
            Console.WriteLine("Sold " + quantity + " of " + Name + " for $" + total);
        }
        else
        {
            Console.WriteLine("Not enough " + Name + " in stock!");
        }
    }
}

// Real inventory - each product is a SEPARATE object
Product laptop = new Product();
laptop.Name = "Dell XPS 13";
laptop.Price = 999.99m;
laptop.Stock = 10;

Product phone = new Product();
phone.Name = "iPhone 15";
phone.Price = 799.99m;
phone.Stock = 5;`,
            example3: `public class Person
{
    public string Name;
    public int Age;
    
    public void Birthday()
    {
        Age++;
        Console.WriteLine(Name + " is now " + Age + " years old!");
    }
}

// Creating a person object
Person person = new Person();
person.Name = "Charlie";
person.Age = 25;`
        },

        completeExamples: {
            example1: `// Class Definition (Blueprint) - ONE copy exists
public class Student
{
    public string Name;
    public int Age;
    public string Major;
    
    public void Introduce()
    {
        Console.WriteLine("Hi, I'm " + Name + ", studying " + Major);
    }
}

// Creating THREE separate objects
Student student1 = new Student();
student1.Name = "Alice";
student1.Age = 20;
student1.Major = "Computer Science";

Student student2 = new Student();
student2.Name = "Bob";
student2.Age = 22;
student2.Major = "Mathematics";

Student student3 = new Student();
student3.Name = "Charlie";
student3.Age = 21;
student3.Major = "Biology";

// Each object works independently
student1.Introduce();  // Uses Alice's data
student2.Introduce();  // Uses Bob's data
student3.Introduce();  // Uses Charlie's data`,
            example2: `public class Product
{
    public string Name;
    public decimal Price;
    public int Stock;
    
    public bool IsAvailable()
    {
        return Stock > 0;
    }
    
    public void Sell(int quantity)
    {
        if (quantity <= Stock)
        {
            Stock -= quantity;  // Reduce stock
            decimal total = Price * quantity;
            Console.WriteLine("Sold " + quantity + " of " + Name + " for $" + total);
        }
        else
        {
            Console.WriteLine("Not enough " + Name + " in stock!");
        }
    }
}

// Real inventory - each product is a SEPARATE object
Product laptop = new Product();
laptop.Name = "Dell XPS 13";
laptop.Price = 999.99m;
laptop.Stock = 10;  // laptop object has Stock = 10

Product phone = new Product();
phone.Name = "iPhone 15";
phone.Price = 799.99m;
phone.Stock = 5;    // phone object has Stock = 5

// Customers buy products
Console.WriteLine("=== Sales Transactions ===");
laptop.Sell(3);    // Reduces laptop.Stock to 7
phone.Sell(2);     // Reduces phone.Stock to 3
laptop.Sell(8);    // Should fail - not enough stock

Console.WriteLine("\n=== Remaining Stock ===");
Console.WriteLine(laptop.Name + ": " + laptop.Stock + " left");
Console.WriteLine(phone.Name + ": " + phone.Stock + " left");`,
            example3: `public class Person
{
    public string Name;
    public int Age;
    
    public void Birthday()
    {
        Age++;  // Increase age by 1
        Console.WriteLine(Name + " is now " + Age + " years old!");
    }
}

// Creating a person object
Person person = new Person();
person.Name = "Charlie";
person.Age = 25;

Console.WriteLine("Initial age: " + person.Age);

// Have 3 birthdays
person.Birthday();
person.Birthday();
person.Birthday();

Console.WriteLine("Final age: " + person.Age);`
        },

        currentStep: 0,

        convertCode: function(id) {
            const toggle = document.getElementById(id + "Toggle");
            const isComplete = toggle ? toggle.checked : false;
            const codeBlock = document.getElementById(id + "Code");
            const resultBox = document.getElementById(id + "Result");

            if (codeBlock && toggle) {
                codeBlock.style.transition = 'opacity 0.3s ease';
                codeBlock.style.opacity = '0.5';
                setTimeout(() => {
                    codeBlock.textContent = isComplete ? this.completeExamples[id] : this.simpleExamples[id];
                    codeBlock.style.opacity = '1';

                    if (resultBox && id === 'example1') {
                        resultBox.innerHTML = isComplete ? 
                            '<strong>Output:</strong><br>Hi, I\'m Alice, studying Computer Science<br>Hi, I\'m Bob, studying Mathematics<br>Hi, I\'m Charlie, studying Biology<br><br><em>Deep Insight:</em> We have ONE Student class, but THREE separate objects in memory. Each object has its own space for Name, Age, and Major. When <code>student1.Introduce()</code> runs, it uses <code>student1</code>\'s data, not <code>student2</code>\'s or <code>student3</code>\'s!' :
                            '<strong>Code Structure:</strong><br>1. One Student class definition<br>2. Three separate student objects created<br>3. Each object gets its own unique data<br><br><em>Toggle to see full output!</em>';
                    } else if (resultBox && id === 'example2') {
                        resultBox.innerHTML = isComplete ?
                            '<strong>Output:</strong><br>=== Sales Transactions ===<br>Sold 3 of Dell XPS 13 for $2999.97<br>Sold 2 of iPhone 15 for $1599.98<br>Not enough Dell XPS 13 in stock!<br><br>=== Remaining Stock ===<br>Dell XPS 13: 7 left<br>iPhone 15: 3 left<br><br><em>Key Insight:</em> Each product object MAINTAINS ITS OWN STOCK. When we sell laptops, only the <code>laptop</code> object\'s Stock changes. The <code>phone</code> object\'s Stock stays separate. This is why objects are perfect for real systems!' :
                            '<strong>Code Structure:</strong><br>1. Product class with Sell() method<br>2. Two separate product objects<br>3. Each manages its own stock independently<br><br><em>Toggle to see the sales simulation!</em>';
                    }
                }, 300);
            }
        },

        updateWalkthrough: function(step) {
            const walkthroughCodeBase = document.getElementById('walkthroughCodeBase');
            const walkthroughVariables = document.getElementById('walkthroughVariables');
            const walkthroughExplanation = document.getElementById('walkthroughExplanation');
            const nextStepBtn = document.getElementById('nextStepBtn');

            if (!walkthroughCodeBase || !walkthroughVariables || !walkthroughExplanation) return;

            const data = this.objectSteps[step];
            
            walkthroughCodeBase.textContent = data.code;
            walkthroughVariables.textContent = data.vars;
            walkthroughExplanation.innerHTML = `<em>Step ${step + 1}:</em> ${data.exp}`;
            
            if (step === this.objectSteps.length - 1 && nextStepBtn) {
                walkthroughExplanation.innerHTML += '<br><strong>Complete! Two independent objects created from one class.</strong>';
                nextStepBtn.disabled = true;
            }
        },

        nextStep: function() {
            if (this.currentStep < this.objectSteps.length) {
                this.updateWalkthrough(this.currentStep);
                this.currentStep++;
            }
        },

        checkAnswer: function(quizNum, answer) {
            const resultElement = document.getElementById('quiz' + quizNum + 'Result');
            let isCorrect = false;
            let explanation = '';

            if (quizNum === 1) {
                if (answer === 'B') {
                    isCorrect = true;
                    explanation = '<span class="correct-text">Correct!</span> car1 and car2 are SEPARATE objects. Setting car1.Color only affects car1. car2.Color remains empty until we set it.';
                } else {
                    explanation = '<span class="error-text">Incorrect.</span> Remember: Each object has its own data. Changing car1 does NOT affect car2. They are independent.';
                }
            } else if (quizNum === 2) {
                if (answer === 'B') {
                    isCorrect = true;
                    explanation = '<span class="correct-text">Correct!</span> The class code is loaded ONCE into memory and shared by ALL objects. Each object gets its own data space, but they all use the same class code.';
                } else {
                    explanation = '<span class="error-text">Incorrect.</span> Class code exists only ONCE in memory (in the Class Area). Objects share this code but have separate data spaces.';
                }
            }

            resultElement.innerHTML = explanation;
            resultElement.className = 'quiz-result ' + (isCorrect ? 'correct' : 'incorrect');
        },

        initWalkthrough: function() {
            const nextStepBtn = document.getElementById('nextStepBtn');
            if (nextStepBtn) {
                this.currentStep = 0;

                const newButton = nextStepBtn.cloneNode(true);
                nextStepBtn.parentNode.replaceChild(newButton, nextStepBtn);

                newButton.addEventListener('click', () => this.nextStep());
                newButton.disabled = false;

                this.updateWalkthrough(0);
                this.currentStep = 1;
            }
        },

        initCodeExamples: function() {
            const toggles = document.querySelectorAll('.form-check-input[type="checkbox"]');
            toggles.forEach(toggle => {
                const id = toggle.id.replace('Toggle', '');
                if (id && this.simpleExamples[id]) {
                    this.convertCode(id);
                    toggle.addEventListener('change', () => this.convertCode(id));
                }
            });
        },

        initQuiz: function() {
        },

        init: function() {
            console.log('Initializing OOP Objects page');
            this.initCodeExamples();
            this.initWalkthrough();
            this.initQuiz();
            
            if (typeof hljs !== 'undefined') {
                hljs.highlightAll();
            }
        }
    };

    if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', () => {
            window.oopObjects.init();
        });
    } else {
        window.oopObjects.init();
    }
</script>
</body>