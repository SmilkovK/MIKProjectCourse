@{
    ViewData["Title"] = "OOP - Encapsulation";
}

<div class="container">
    <h1>Encapsulation in Object-Oriented Programming (OOP)</h1>
    <p><strong>Encapsulation</strong> is the concept of restricting direct access to some of an object's components, and providing controlled access through methods or properties. This helps protect the integrity of the data and prevents unintended modifications.</p>

    <h2>Example: Encapsulation in C#</h2>
    <div class="code-container">
        <div class="code-header">Using Properties to Encapsulate Fields</div>
        <div class="code-content">
<pre><code class="language-csharp">
public class BankAccount
{
    private decimal balance; // private field

    public decimal Balance
    {
        get { return balance; }
        private set { balance = value; } // controlled access
    }

    public BankAccount(decimal initialBalance)
    {
        balance = initialBalance;
    }

    public void Deposit(decimal amount)
    {
        if(amount > 0)
            balance += amount;
    }

    public void Withdraw(decimal amount)
    {
        if(amount > 0 && amount <= balance)
            balance -= amount;
    }
}

// Usage
BankAccount account = new BankAccount(1000);
account.Deposit(500);
account.Withdraw(200);
Console.WriteLine(account.Balance); // Output: 1300
</code></pre>
        </div>
    </div>

    <h2>Key Points About Encapsulation</h2>
    <ul>
        <li>Encapsulation hides internal data from outside classes using <code>private</code> fields.</li>
        <li>Access to the data is provided through <code>public</code> methods or properties.</li>
        <li>It helps maintain data integrity and prevents unwanted changes.</li>
        <li>Encapsulation is a core principle of OOP along with inheritance, polymorphism, and abstraction.</li>
    </ul>

    <h2>Exercise</h2>
    <p>Create a class <code>Student</code> with a private field <code>grade</code>. Add a public property <code>Grade</code> that allows reading the value but only allows setting it if the grade is between 0 and 100. Test your class by creating an object and setting different grades.</p>

    <div class="navigation-buttons">
        <a href="@Url.Action("Objects", "OOP")" class="btn btn-outline-primary ajax-link">← Objects</a>
        <a href="@Url.Action("Polymorphism", "OOP")" class="btn btn-primary ajax-link">Polymorphism →</a>
    </div>
</div>

<style>
    .container {
        max-width: 800px;
        padding: 20px;
        background-color: var(--bs-body-bg);
    }

    h1, h2 {
        color: var(--bs-heading-color);
        margin-bottom: 20px;
    }

    p, li {
        color: var(--bs-body-color);
        line-height: 1.6;
    }

    ul {
        margin-left: 20px;
        padding-left: 15px;
    }

    .code-container {
        margin: 25px 0;
        border: 1px solid var(--bs-border-color);
        border-radius: 5px;
        overflow: hidden;
        background-color: var(--code-bg);
    }

    .code-header {
        background-color: var(--code-header-bg);
        padding: 10px 15px;
        border-bottom: 1px solid var(--bs-border-color);
        font-family: 'SFMono-Regular', Menlo, Monaco, Consolas, "Courier New", monospace;
        font-size: 0.9rem;
        color: var(--bs-body-color);
    }

    .code-content {
        padding: 15px;
        overflow-x: auto;
    }

    pre {
        margin: 0;
        white-space: pre-wrap;
        background-color: transparent;
    }

    code {
        font-family: 'SFMono-Regular', Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
    }

    .navigation-buttons {
        display: flex;
        justify-content: space-between;
        margin-top: 30px;
    }

    .btn {
        padding: 8px 20px;
        border-radius: 4px;
        font-weight: 500;
    }

    .btn-primary {
        background-color: var(--bs-primary);
        border-color: var(--bs-primary);
    }

    .btn-outline-primary {
        color: var(--bs-primary);
        border-color: var(--bs-primary);
    }
</style>
