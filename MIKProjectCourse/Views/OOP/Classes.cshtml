@{
    ViewData["Title"] = "OOP - Класи";
}

<body data-topic="classes">
    <div class="container">
        <h1 class="mb-4">Класи: Планови за вашиот код</h1>

        <p><strong>Класите</strong> се како <strong>планови</strong> или <strong>шаблони</strong> во програмирањето. Како што архитектите користат планови за да градат куќи, така и програмерите користат класи за да создадат објекти во кодот.</p>

        <p>Класите се користат во секојдневниот живот:</p>
        <ul>
            <li>Рецепт е план за готвење на јадење</li>
            <li>Шаблон за колачи е шаблон за правење колачи</li>
            <li>Дизајн на автомобил е план за производство на автомобили</li>
            <li>Формулар за упис на студент е шаблон за информации за студентот</li>
        </ul>

        <h2>Што е класа?</h2>
        <p>Класата има три основни делови:</p>

        <div class="code-container">
            <div class="code-header">Анатомија на класа</div>
            <div class="code-content">
<pre>
         Име на класа      Својства      Методи
            ↓               ↓              ↓
                <strong>public class Car</strong>
      {
                <strong>public string Brand;</strong>      ← Својство
                <strong>public string Color;</strong>      ← Својство

                <strong>public void Drive()</strong>      ← Метод
          {
              Console.WriteLine("Vroom!");
          }
      }
</pre>
            </div>
        </div>

        <p>Смислете го вака:</p>
        <ul>
            <li><strong>Име на класа</strong> → Кој тип на план е тоа? (Car, Student, Product)</li>
            <li><strong>Својства</strong> → Какви информации чува (Brand, Color, Name)</li>
            <li><strong>Методи</strong> → Кои дејства може да ги изврши (Drive, Study, Display)</li>
        </ul>

        <h2>Пример: Car класа</h2>

        <div class="code-container">
            <div class="code-header">Пример за Car класа</div>
            <div class="code-content">
<pre>
// ПЛАН (Класа)
public class Car
{
    // Својства - што автомобилот ИМА
    public string Brand;
    public string Color;
    public int Year;

    // Метод - што автомобилот МОЖЕ ДА НАПРАВИ
    public void Honk()
    {
        Console.WriteLine("Beep beep!");
    }
}
</pre>
            </div>
        </div>

        <div class="result-box">
            <strong>Важно:</strong><br>
            Ова е само планот!<br>
            Значи сите автомобили ќе имаат Brand, Color и Year, и можат да Honk.<br>
            Сепак, сè уште не сме создале вистински автомобили!
        </div>

        <h2>Пример 1: Создавање на прва класа</h2>
        <p>Да создадеме едноставна класа Student:</p>

        <div class="code-container">
            <div class="form-check form-switch mb-2">
                <input class="form-check-input" type="checkbox" id="example1Toggle" onchange="oopClasses.convertCode('example1')">
                <label class="form-check-label" for="example1Toggle">Прикажи цел пример</label>
            </div>
            <div class="code-content">
<pre class="codeBlock" id="example1Code">
// Чекор 1: Создајте планот (Класа)
public class Student
{
    // Својства - што студентот ИМА
    public string Name;
    public int Age;
    public string Major;

    // Метод - што студентот МОЖЕ ДА НАПРАВИ
    public void Study()
    {
        Console.WriteLine(Name + " учи " + Major);
    }
}

// Чекор 2: Создајте вистински студенти од планот
Student student1 = new Student();
student1.Name = "Alex";
student1.Age = 20;
student1.Major = "Computer Science";

Student student2 = new Student();
student2.Name = "Maria";
student2.Age = 21;
student2.Major = "Mathematics";
</pre>
            </div>
            <div class="result-box" id="example1Result">
                <strong>Што се случи:</strong><br>
                1. Создавме <strong>Student план</strong> (класа)<br>
                2. Создавме <strong>два вистински студенти</strong> (објекти) од планот<br>
                3. Секој студент има свои Name, Age и Major<br>
                <em>Размислете:</em> Еден рецепт (класа) → Многу колачи (објекти)!
            </div>
        </div>

        <h2>Интерактивно: Од план до објект</h2>
        <p>Гледајте како од дефиниција на класа стануваат вистински објекти:</p>

        <div class="code-container">
            <div class="code-header">Чекор по чекор</div>
            <div class="code-content">
<pre id="walkthroughCodeBase">
// 1. Дефинирајте планот
public class Book
{
    public string Title;
    public string Author;
}

// 2. Создај книги од планот
Book book1 = new Book();
// Book book2 = new Book();
</pre>
            </div>
        </div>

        <div class="code-container">
            <div class="code-header">Што создавме</div>
            <div class="code-content">
<pre id="walkthroughVariables">Класа: Book (План)<br>Објекти: book1, book2 (Вистински книги)</pre>
            </div>
            <div class="result-box" id="walkthroughExplanation">
                <em>Кликнете <strong>Next</strong> за да го видите секој чекор:</em>
            </div>
            <button class="btn btn-primary mt-2" id="nextStepBtn">Next →</button>
        </div>

        <h2>Пример 2: Користење методи во класи</h2>
        <p>Методите им даваат на класите можност да ДЕЈСТВУВААТ:</p>

        <div class="code-container">
            <div class="form-check form-switch mb-2">
                <input class="form-check-input" type="checkbox" id="example2Toggle" onchange="oopClasses.convertCode('example2')">
                <label class="form-check-label" for="example2Toggle">Прикажи цел код</label>
            </div>
            <div class="code-content">
<pre class="codeBlock" id="example2Code">
public class Calculator
{
    // Метод за собирање два броја
    public int Add(int number1, int number2)
    {
        int result = number1 + number2;
        return result;
    }

    // Метод за множење два броја
    public int Multiply(int number1, int number2)
    {
        return number1 * number2;
    }
}

// Користење на калкулатор
Calculator myCalc = new Calculator();

int sum = myCalc.Add(5, 3);        // Резултат: 8
int product = myCalc.Multiply(4, 6); // Резултат: 24

Console.WriteLine("5 + 3 = " + sum);
Console.WriteLine("4 × 6 = " + product);
</pre>
            </div>
            <div class="result-box" id="example2Result">
                <strong>Клучни точки:</strong><br>
                1. <strong>Методите се дејства</strong> (Add, Multiply)<br>
                2. Тие можат да <strong>прифатат податоци</strong> (броеви за пресметка)<br>
                3. Тие можат да <strong>вратат резултати</strong> (одговор)<br>
                4. Секој објект може да изврши овие дејства
            </div>
        </div>

        <h2>Пример 3: Реална Product класа</h2>
        <p>Да креираме пример како во онлајн продавница:</p>

        <div class="code-container">
            <div class="form-check form-switch mb-2">
                <input class="form-check-input" type="checkbox" id="example3Toggle" onchange="oopClasses.convertCode('example3')">
                <label class="form-check-label" for="example3Toggle">Прикажи со резултат</label>
            </div>
            <div class="code-content">
<pre class="codeBlock" id="example3Code">
public class Product
{
    public string Name;
    public decimal Price;
    public int Stock;

    public void DisplayInfo()
    {
        Console.WriteLine("=== Информации за производот ===");
        Console.WriteLine("Име: " + Name);
        Console.WriteLine("Цена: $" + Price);
        Console.WriteLine("На залиха: " + Stock);
        Console.WriteLine("===============================");
    }

    public bool IsAvailable()
    {
        return Stock > 0;
    }
}

Product laptop = new Product();
laptop.Name = "Dell XPS 13";
laptop.Price = 999.99m;
laptop.Stock = 10;

Product phone = new Product();
phone.Name = "iPhone 15";
phone.Price = 799.99m;
phone.Stock = 0;

laptop.DisplayInfo();
Console.WriteLine("Достапно: " + laptop.IsAvailable());

phone.DisplayInfo();
Console.WriteLine("Достапно: " + phone.IsAvailable());
</pre>
            </div>
            <div class="result-box" id="example3Result">
                <strong>Излез:</strong><br>
                === Информации за производот ===<br>
                Име: Dell XPS 13<br>
                Цена: $999.99<br>
                На залиха: 10<br>
                ===============================<br>
                Достапно: True<br><br>
                === Информации за производот ===<br>
                Име: iPhone 15<br>
                Цена: $799.99<br>
                На залиха: 0<br>
                ===============================<br>
                Достапно: False
            </div>
        </div>

        <h2>Пример 4: Класа BankAccount</h2>
        <p>Практичен пример за управување со пари:</p>

        <div class="code-container">
            <div class="code-header">Симулација на банкарска сметка</div>
            <div class="code-content">
<pre>
public class BankAccount
{
    public string Owner;
    public decimal Balance;

    public BankAccount(string ownerName, decimal startingBalance)
    {
        Owner = ownerName;
        Balance = startingBalance;
    }

    public void Deposit(decimal amount)
    {
        Balance += amount;
        Console.WriteLine(Owner + " депонираше: $" + amount);
    }

    public bool Withdraw(decimal amount)
    {
        if (amount <= Balance)
        {
            Balance -= amount;
            Console.WriteLine(Owner + " подигна: $" + amount);
            return true;
        }
        else
        {
            Console.WriteLine("Недоволно средства!");
            return false;
        }
    }

    public void CheckBalance()
    {
        Console.WriteLine(Owner + "'s салдо: $" + Balance);
    }
}

BankAccount johnAccount = new BankAccount("John", 1000.00m);
BankAccount sarahAccount = new BankAccount("Sarah", 500.00m);

johnAccount.CheckBalance();
johnAccount.Deposit(200.00m);
johnAccount.Withdraw(300.00m);
johnAccount.CheckBalance();
</pre>
            </div>
        </div>

        <h2>Дијаграма: Како функционираат класи и објекти</h2>

        <div class="code-container">
            <div class="code-header">Меморија</div>
            <div class="code-content">
<pre>
Класа (План):
┌─────────────────────────┐
│     Student Class       │
├─────────────────────────┤
│ - string Name           │ 
│ - int Age               │
│ - string Major          │
│                         │
│ + void Study()          │
└─────────────────────────┘

Објекти (Вистински примери):
┌─────────────────────────┐    ┌─────────────────────────┐
│    Student Објект 1     │    │    Student Објект 2     │
├─────────────────────────┤    ├─────────────────────────┤
│ Name = "Alex"           │    │ Name = "Maria"          │
│ Age = 20                │    │ Age = 21                │
│ Major = "CS"            │    │ Major = "Math"          │
└─────────────────────────┘    └─────────────────────────┘

Кога се повикува: student1.Study()
- Компјутерот го наоѓа student1 објектот
- Го користи Study() методот од планот
- Извршува: "Alex учи CS"
</pre>
            </div>
        </div>

        <h2>Чести грешки</h2>
        <div class="code-container">
            <div class="code-header">Грешки и решенија</div>
            <div class="code-content">
<pre>
<span style="color:red; font-weight:bold;">// ГРЕШНО: Користење класа без објект</span>
Student.Name = "Alex";  // ERROR: Треба објект!

<span style="color:lightgreen; font-weight:bold;">// ТОЧНО: Создајте објект</span>
Student student = new Student();
student.Name = "Alex";  // GOOD!

<span style="color:red; font-weight:bold;">// ГРЕШНО: Заборавен 'new'</span>
Student student;        
student.Name = "Alex";  // ERROR

<span style="color:lightgreen; font-weight:bold;">// ТОЧНО: Користете 'new'</span>
Student student = new Student();  
student.Name = "Alex";            

<span style="color:red; font-weight:bold;">// ГРЕШНО: Мешање класа и објект</span>
Car myCar = Car;  // ERROR

<span style="color:lightgreen; font-weight:bold;">// ТОЧНО: Создај објект од класа</span>
Car myCar = new Car();  
</pre>
            </div>
        </div>

        <h2>Правила за именување и добри практики</h2>
        <div class="code-container">
            <div class="code-header">Дизајн на класи</div>
            <div class="code-content">
<pre>
<span style="color:lightgreen; font-weight:bold;">// ДОБРИ ИМЕЊА НА КЛАСИ</span>
public class Car {}          
public class Student {}      
public class Product {}      
public class BankAccount {}  

<span style="color:lightgreen; font-weight:bold;">// ДОБРИ ИМЕЊА НА СВОЈСТВА</span>
public string Brand;        
public string Model;        
public int Year;            
public decimal Price;       

<span style="color:lightgreen; font-weight:bold;">// ДОБРИ ИМЕЊА НА МЕТОДИ</span>
public void Drive() {}       
public void Study() {}       
public void DisplayInfo() {} 

<span style="color:lightgreen; font-weight:bold;">// ПРАВИЛА:</span>
// 1. Името на класа започнува со голема буква
// 2. PascalCase за класи (MyClassName)
// 3. camelCase за својства и методи (myProperty)
// 4. Една класа = една одговорност
// 5. Класите да бидат едноставни и фокусирани
</pre>
            </div>
        </div>

        <h2>Клучни разлики: Класа vs Објект</h2>
        <div class="code-container">
            <div class="code-header">План vs Вистински пример</div>
            <div class="code-content">
<pre>
КЛАСА (План)                        ОБЈЕКТ (Вистински пример)
─────────────────────────────────────────────────────────────
Рецепт за колачи                     Вистински колач
Дизајн на автомобил                   Вистински автомобил
Формулар за студент                  Вистински студент Alex
Шаблон за колачи                     Колач направен од шаблон

ЕДНА класа може да создаде             МНОГУ различни објекти
─────────────────────────────────────────────────────────────
public class Car {}                 Car myCar = new Car();
                                    Car yourCar = new Car();
                                    Car momsCar = new Car();
</pre>
            </div>
        </div>

        <h2>Резиме</h2>
        <ul>
            <li><strong>Класа</strong> = <strong>План</strong> или <strong>Шаблон</strong></li>
            <li><strong>Објект</strong> = <strong>Вистински пример</strong> создаден од планот</li>
            <li>Класите имаат <strong>Својства</strong> (што имаат) и <strong>Методи</strong> (што прават)</li>
            <li>Користете <code>new</code> за да креирате објекти од класи</li>
            <li>Една класа може да создаде <strong>многу објекти</strong></li>
            <li>Секој објект има <strong>свои вредности</strong> за својствата</li>
            <li>Класите го прават кодот <strong>организиран</strong> и <strong>повторно употреблив</strong></li>
            <li>Реални апликации користат класи за Users, Products, Orders и сл.</li>
        </ul>

        <div class="practice-exercise">
            <h3>Обидете се сами!</h3>
            <p>Креирајте <strong>Pet</strong> класа со следниве карактеристики:</p>
            <ul>
                <li>Својства: Name (string), Type (string), Age (int)</li>
                <li>Метод: MakeSound() кој печати звукот на миленикот</li>
                <li>if-else за два типа: dog и cat во методот</li>
                <li>Нека секој миленик ја произведе својата звучност!</li>
            </ul>
            <div class="code-container hint">
                <div class="code-header">Стапка (кликни за прикажување)</div>
                <div class="code-content">
<pre>
public class Pet
{
    public string Name;
    public string Type;
    public int Age;

    public void MakeSound()
    {
        if (Type == "Dog")
            Console.WriteLine("Woof!");
        else if (Type == "Cat")
            Console.WriteLine("Meow!");
    }
}
</pre>
                </div>
            </div>
        </div>

        <div class="navigation-buttons">
            <a href="@Url.Action("Introduction", "OOP")" class="btn btn-outline-primary ajax-link">← Вовед во OOP</a>
            <a href="@Url.Action("Constructors", "OOP")" class="btn btn-primary ajax-link">Следно: Конструктори →</a>
        </div>
    </div>


<style>
    .container {
        max-width: 800px;
        padding: 20px;
        background-color: var(--bs-body-bg);
    }

    h1, h2, h3 {
        color: var(--bs-heading-color);
        margin-bottom: 15px;
    }

    h1 {
        border-bottom: 2px solid var(--bs-primary);
        padding-bottom: 10px;
    }

    p, li, code {
        color: var(--bs-body-color);
        line-height: 1.6;
    }

    .code-container {
        margin: 25px 0;
        border: 1px solid var(--bs-border-color);
        border-radius: 5px;
        overflow: hidden;
        background-color: var(--code-bg);
    }

    .code-header {
        background-color: var(--code-header-bg);
        padding: 10px 15px;
        border-bottom: 1px solid var(--bs-border-color);
        font-family: 'SFMono-Regular', Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
        font-size: 0.9rem;
        color: var(--bs-body-color);
    }

    .code-content {
        padding: 15px;
        overflow-x: auto;
    }

    pre {
        margin: 0;
        white-space: pre-wrap;
        background-color: transparent;
        font-family: 'SFMono-Regular', Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
    }

    .result-box {
        padding: 10px 15px;
        background-color: rgba(0, 123, 255, 0.1);
        border-top: 1px solid var(--bs-border-color);
        font-size: 0.95rem;
    }

    .hint .code-content {
        display: none;
    }

    .hint:hover .code-content {
        display: block;
    }

    .practice-exercise {
        background-color: rgba(40, 167, 69, 0.1);
        border: 1px solid var(--bs-success);
        border-radius: 5px;
        padding: 15px;
        margin: 20px 0;
    }

    .navigation-buttons {
        display: flex;
        justify-content: space-between;
        margin-top: 30px;
    }

    .btn {
        padding: 8px 20px;
        border-radius: 4px;
        font-weight: 500;
        text-decoration: none;
    }

    .btn-primary {
        background-color: var(--bs-primary);
        border-color: var(--bs-primary);
        color: #fff;
    }

    .btn-outline-primary {
        color: var(--bs-primary);
        border-color: var(--bs-primary);
        background-color: transparent;
    }
</style>

    <script>
            // Креирање namespace за OOP Classes страната
            window.oopClasses = {
                // Интерактивен walkthrough за креирање класи
                classSteps: [
                    {
                        code: `// 1. Дефинирање на планот
        public class Book
        {
            public string Title;
            public string Author;
        }

        // 2. Креирање книги од планот
        // Book book1 = new Book();
        // Book book2 = new Book();`,
                        vars: "Класа: Book (План)\nОбјекти: Сè уште не се креирани",
                        exp: "Прво ја дефинираме класата Book како план. Таа ни кажува што ќе има секоја книга: Title и Author."
                    },
                    {
                        code: `// 1. Дефинирање на планот
        public class Book
        {
            public string Title;
            public string Author;
        }

        // 2. Креирање книги од планот
        Book book1 = new Book();
        // Book book2 = new Book();`,
                        vars: "Класа: Book (План)\nОбјекти: book1 (празна книга)",
                        exp: "Сега го креираме првиот објект книга со 'new Book()'. Замисли го ова како правење на првата вистинска книга од планот."
                    },
                    {
                        code: `// 1. Дефинирање на планот
        public class Book
        {
            public string Title;
            public string Author;
        }

        // 2. Креирање книги од планот
        Book book1 = new Book();
        Book book2 = new Book();`,
                        vars: "Класа: Book (План)\nОбјекти: book1, book2 (две празни книги)",
                        exp: "Креираме и втор објект книга. Двете книги моментално се празни — немаат наслов и автор."
                    },
                    {
                        code: `// 1. Дефинирање на планот
        public class Book
        {
            public string Title;
            public string Author;
        }

        // 2. Креирање книги од планот
        Book book1 = new Book();
        Book book2 = new Book();

        // 3. Доделување својства на книгите
        book1.Title = "Harry Potter";
        book1.Author = "J.K. Rowling";`,
                        vars: "Класа: Book (План)\nОбјекти:\nbook1: Title='Harry Potter', Author='J.K. Rowling'\nbook2: (празна)",
                        exp: "Сега ја пополнуваме првата книга со вистински информации. Секој објект книга има свои вредности за Title и Author."
                    },
                    {
                        code: `// 1. Дефинирање на планот
        public class Book
        {
            public string Title;
            public string Author;
        }

        // 2. Креирање книги од планот
        Book book1 = new Book();
        Book book2 = new Book();

        // 3. Доделување својства на книгите
        book1.Title = "Harry Potter";
        book1.Author = "J.K. Rowling";
        book2.Title = "The Hobbit";
        book2.Author = "J.R.R. Tolkien";`,
                        vars: "Класа: Book (План)\nОбјекти:\nbook1: Title='Harry Potter', Author='J.K. Rowling'\nbook2: Title='The Hobbit', Author='J.R.R. Tolkien'",
                        exp: "Двете книги сега имаат свои уникатни информации. Од еден план (класа), создадовме две различни книги (објекти)!"
                    }
                ],

                // Code examples за toggle копчиња
                simpleExamples: {
                    example1: `// Чекор 1: Креирајте го планот (класа)
        public class Student
        {
            public string Name;
            public int Age;
            public string Major;

            public void Study()
            {
                Console.WriteLine(Name + " учи " + Major);
            }
        }`,
                    example2: `public class Calculator
        {
            public int Add(int number1, int number2)
            {
                int result = number1 + number2;
                return result;
            }
        }`,
                    example3: `public class Product
        {
            public string Name;
            public decimal Price;
            public int Stock;
        }`,
                },

                completeExamples: {
                    example1: `// Чекор 1: Креирајте го планот (класа)
        public class Student
        {
            // Својства – што студентот ИМА
            public string Name;
            public int Age;
            public string Major;

            // Метод – што студентот МОЖЕ да прави
            public void Study()
            {
                Console.WriteLine(Name + " учи " + Major);
            }
        }

        // Чекор 2: Креирајте вистински студенти од планот
        Student student1 = new Student();
        student1.Name = "Alex";
        student1.Age = 20;
        student1.Major = "Computer Science";

        Student student2 = new Student();
        student2.Name = "Maria";
        student2.Age = 21;
        student2.Major = "Mathematics";

        // Користење на студентите
        student1.Study();  // Излез: Alex учи Computer Science
        student2.Study();  // Излез: Maria учи Mathematics`,
                    example2: `public class Calculator
        {
            // Метод за собирање на два броја
            public int Add(int number1, int number2)
            {
                int result = number1 + number2;
                return result;
            }

            // Метод за множење на два броја
            public int Multiply(int number1, int number2)
            {
                return number1 * number2;
            }
        }

        // Користење на калкулаторот
        Calculator myCalc = new Calculator();

        int sum = myCalc.Add(5, 3);          // Резултат: 8
        int product = myCalc.Multiply(4, 6); // Резултат: 24

        Console.WriteLine("5 + 3 = " + sum);
        Console.WriteLine("4 × 6 = " + product);`,
                    example3: `public class Product
        {
            // Својства
            public string Name;
            public decimal Price;
            public int Stock;

            // Метод за прикажување информации за производот
            public void DisplayInfo()
            {
                Console.WriteLine("=== Информации за производ ===");
                Console.WriteLine("Име: " + Name);
                Console.WriteLine("Цена: $" + Price);
                Console.WriteLine("На залиха: " + Stock);
                Console.WriteLine("==============================");
            }

            // Метод за проверка дали производот е достапен
            public bool IsAvailable()
            {
                return Stock > 0;  // точно ако има залиха
            }
        }

        // Креирање производи
        Product laptop = new Product();
        laptop.Name = "Dell XPS 13";
        laptop.Price = 999.99m;
        laptop.Stock = 10;

        Product phone = new Product();
        phone.Name = "iPhone 15";
        phone.Price = 799.99m;
        phone.Stock = 0;  // Нема на залиха!

        // Користење на производите
        laptop.DisplayInfo();
        Console.WriteLine("Достапно: " + laptop.IsAvailable());

        phone.DisplayInfo();
        Console.WriteLine("Достапно: " + phone.IsAvailable());`,
                },

                currentStep: 0,
                currentWalkthrough: null,

                // Функција за менување помеѓу simple и complete код
                convertCode: function(id) {
                    const toggle = document.getElementById(id + "Toggle");
                    const isComplete = toggle ? toggle.checked : false;
                    const codeBlock = document.getElementById(id + "Code");

                    if (codeBlock && toggle) {
                        codeBlock.style.transition = 'opacity 0.3s ease';
                        codeBlock.style.opacity = '0.5';
                        setTimeout(() => {
                            codeBlock.textContent = isComplete ? this.completeExamples[id] : this.simpleExamples[id];
                            codeBlock.style.opacity = '1';

                            const resultBox = document.getElementById(id + "Result");
                            if (resultBox && id === 'example1') {
                                resultBox.innerHTML = isComplete ?
                                    ' <strong>Целосен излез:</strong><br>Alex учи Computer Science<br>Maria учи Mathematics<br><em>Два студенти, еден план!</em>' :
                                    ' <strong>Што се случи:</strong><br>1. Креиравме <strong>Student класа</strong><br>2. Направивме <strong>два објекти</strong> од неа<br>3. Секој има свои вредности<br><em>Еден рецепт → повеќе колачи!</em>';
                            }
                        }, 300);
                    }
                },

                // Функција за ажурирање на walkthrough приказот
                updateWalkthrough: function(step) {
                    const walkthroughCodeBase = document.getElementById('walkthroughCodeBase');
                    const walkthroughVariables = document.getElementById('walkthroughVariables');
                    const walkthroughExplanation = document.getElementById('walkthroughExplanation');
                    const nextStepBtn = document.getElementById('nextStepBtn');

                    if (!walkthroughCodeBase || !walkthroughVariables || !walkthroughExplanation) return;

                    const data = this.classSteps[step];

                    walkthroughCodeBase.textContent = data.code;
                    walkthroughVariables.textContent = data.vars;
                    walkthroughExplanation.innerHTML = `<em>Чекор ${step + 1}:</em> ${data.exp}`;

                    if (step === this.classSteps.length - 1 && nextStepBtn) {
                        walkthroughExplanation.innerHTML += '<br><strong> Завршено! Креиравме 2 објекти од 1 класа.</strong>';
                        nextStepBtn.disabled = true;
                    }
                },

                nextStep: function() {
                    if (this.currentStep < this.classSteps.length) {
                        this.updateWalkthrough(this.currentStep);
                        this.currentStep++;
                    }
                },

                initWalkthrough: function() {
                    const nextStepBtn = document.getElementById('nextStepBtn');
                    if (nextStepBtn) {
                        this.currentStep = 0;

                        const newButton = nextStepBtn.cloneNode(true);
                        nextStepBtn.parentNode.replaceChild(newButton, nextStepBtn);

                        newButton.addEventListener('click', () => this.nextStep());
                        newButton.disabled = false;

                        this.updateWalkthrough(0);
                        this.currentStep = 1;
                    }
                },

                initCodeExamples: function() {
                    const toggles = document.querySelectorAll('.form-check-input[type="checkbox"]');
                    toggles.forEach(toggle => {
                        const id = toggle.id.replace('Toggle', '');
                        if (id && this.simpleExamples[id]) {
                            this.convertCode(id);
                            toggle.addEventListener('change', () => this.convertCode(id));
                        }
                    });
                },

                initHint: function() {
                    const hintContainer = document.querySelector('.hint');
                    if (hintContainer) {
                        hintContainer.addEventListener('mouseenter', function() {
                            const content = this.querySelector('.code-content');
                            if (content) content.style.display = 'block';
                        });

                        hintContainer.addEventListener('mouseleave', function() {
                            const content = this.querySelector('.code-content');
                            if (content) content.style.display = 'none';
                        });
                    }
                },

                init: function() {
                    console.log('Иницијализација на OOP Classes страната');
                    this.initCodeExamples();
                    this.initWalkthrough();
                    this.initHint();

                    if (typeof hljs !== 'undefined') {
                        hljs.highlightAll();
                    }
                }
            };

            if (document.readyState === 'loading') {
                document.addEventListener('DOMContentLoaded', () => {
                    window.oopClasses.init();
                });
            } else {
                window.oopClasses.init();
            }
    </script>

</body>