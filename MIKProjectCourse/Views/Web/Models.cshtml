@{
    ViewData["Title"] = "Model Basics in ASP.NET Core";
}

<div class="container">
    <h1 class="text-center">Model Basics in ASP.NET Core</h1>

    <div class="beginner-note">
        <div class="beginner-note-icon">
            <i class="fas fa-database"></i>
        </div>
        <div class="beginner-note-content">
            <h4>Think of Models Like Digital Blueprints</h4>
            <p><strong>Models = The structured data templates for your application</strong></p>
            <p><strong>Simple analogy:</strong></p>
            <ul>
                <li><strong>Model</strong> = Blueprint for a house</li>
                <li><strong>Object</strong> = Actual house built from the blueprint</li>
                <li><strong>Properties</strong> = Rooms, windows, doors in the house</li>
                <li><strong>Database</strong> = Neighborhood where houses are stored</li>
            </ul>
            <p><strong>In web terms:</strong> Models define what your application's data looks like!</p>
        </div>
    </div>

    <div class="important-note">
        <h4><i class="fas fa-check-circle"></i> Prerequisite Knowledge</h4>
        <p>Before diving into models, make sure you understand:</p>
        <ul>
            <li><strong>C# Classes</strong> - The foundation of models</li>
            <li><strong>Properties</strong> - Variables that store data</li>
            <li><strong>Data Types</strong> - <code>int</code>, <code>string</code>, <code>bool</code>, <code>DateTime</code></li>
        </ul>
    </div>

    <h2 class="text-center">Understanding Models in MVC</h2>
    
    <div class="mvc-flow">
        <div class="flow-diagram">
            <div class="flow-step">
                <div class="flow-icon">
                    <i class="fas fa-code"></i>
                </div>
                <div class="flow-content">
                    <h5>1. Model</h5>
                    <p>Data structure (C# class)</p>
                    <div class="flow-code">
                        <code>public class Product { }</code>
                    </div>
                </div>
                <div class="flow-arrow"></div>
            </div>
            
            <div class="flow-step">
                <div class="flow-icon">
                    <i class="fas fa-cogs"></i>
                </div>
                <div class="flow-content">
                    <h5>2. Controller</h5>
                    <p>Works with models</p>
                    <div class="flow-code">
                        <code>var product = new Product();</code>
                    </div>
                </div>
                <div class="flow-arrow"></div>
            </div>
            
            <div class="flow-step">
                <div class="flow-icon">
                    <i class="fas fa-eye"></i>
                </div>
                <div class="flow-content">
                    <h5>3. View</h5>
                    <p>Displays model data</p>
                    <div class="flow-code">
                        <code>@@Model.ProductName</code>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <h2 class="text-center">Creating Your First Model</h2>
    
    <div class="code-demo">
        <div class="demo-explanation">
            <h4><i class="fas fa-code"></i> What Makes a Good Model</h4>
            <p>A good model should be:</p>
            
            <div class="model-parts">
                <div class="part-item">
                    <div class="part-badge">1</div>
                    <div class="part-content">
                        <h6>Simple</h6>
                        <p>Focus on one entity (Student, Product, User)</p>
                    </div>
                </div>
                
                <div class="part-item">
                    <div class="part-badge">2</div>
                    <div class="part-content">
                        <h6>Clear</h6>
                        <p>Use descriptive property names</p>
                    </div>
                </div>
                
                <div class="part-item">
                    <div class="part-badge">3</div>
                    <div class="part-content">
                        <h6>Complete</h6>
                        <p>Include all necessary properties</p>
                    </div>
                </div>
                
                <div class="part-item">
                    <div class="part-badge">4</div>
                    <div class="part-content">
                        <h6>Valid</h6>
                        <p>Include data validation rules</p>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="code-example">
            <div class="code-header">
                <div class="code-title">
                    <i class="fas fa-file-code"></i> Student.cs - Complete Model Example
                </div>
                <button class="btn btn-sm btn-outline-secondary copy-btn">
                    <i class="fas fa-copy"></i> Copy Code
                </button>
            </div>
            
            <div class="code-content">
<pre><code class="language-csharp">using System;
using System.ComponentModel.DataAnnotations;

namespace MySchool.Models
{
    public class Student
    {
        // Primary key - unique identifier
        public int Id { get; set; }
        
        // Required field with maximum length
        [Required(ErrorMessage = "Student name is required")]
        [StringLength(100, MinimumLength = 2, ErrorMessage = "Name must be between 2-100 characters")]
        public string Name { get; set; }
        
        // Range validation
        [Range(6, 100, ErrorMessage = "Age must be between 6 and 100")]
        public int Age { get; set; }
        
        // Email validation
        [EmailAddress(ErrorMessage = "Invalid email address")]
        public string Email { get; set; }
        
        // Date with range
        [DataType(DataType.Date)]
        [Display(Name = "Enrollment Date")]
        public DateTime EnrollmentDate { get; set; }
        
        // Boolean property
        [Display(Name = "Active Student")]
        public bool IsActive { get; set; }
        
        // Optional field
        [Phone(ErrorMessage = "Invalid phone number")]
        public string PhoneNumber { get; set; }
        
        // Read-only property (not stored in database)
        public string FullInfo => $"{Name} (Age: {Age}, Email: {Email})";
        
        // Constructor with default values
        public Student()
        {
            EnrollmentDate = DateTime.Today;
            IsActive = true;
        }
    }
}</code></pre>
            </div>
            
            <div class="code-explanation">
                <div class="explanation-header">
                    <i class="fas fa-info-circle"></i> Key Points About This Model
                </div>
                <div class="explanation-content">
                    <p><strong>Data Annotations (Validation Attributes):</strong></p>
                    <ul>
                        <li><code>[Required]</code> - Field must have a value</li>
                        <li><code>[StringLength]</code> - Limits text length</li>
                        <li><code>[Range]</code> - Sets min/max values</li>
                        <li><code>[EmailAddress]</code> - Validates email format</li>
                        <li><code>[DataType]</code> - Specifies data type for display</li>
                        <li><code>[Display]</code> - Sets friendly display name</li>
                    </ul>
                    <p><strong>Property Types:</strong> Each property has a specific data type that determines what kind of data it can store.</p>
                </div>
            </div>
            
            <div class="code-output">
                <div class="output-header">
                    <i class="fas fa-magic"></i> What This Model Creates
                </div>
                <div class="model-visual">
                    <div class="model-field">
                        <div class="field-name">Id</div>
                        <div class="field-type">int</div>
                        <div class="field-example">1, 2, 3...</div>
                    </div>
                    <div class="model-field">
                        <div class="field-name">Name</div>
                        <div class="field-type">string</div>
                        <div class="field-example">"John Smith"</div>
                    </div>
                    <div class="model-field">
                        <div class="field-name">Age</div>
                        <div class="field-type">int</div>
                        <div class="field-example">20, 25, 30...</div>
                    </div>
                    <div class="model-field">
                        <div class="field-name">Email</div>
                        <div class="field-type">string</div>
                        <div class="field-example">"john@example.com"</div>
                    </div>
                    <div class="model-field">
                        <div class="field-name">IsActive</div>
                        <div class="field-type">bool</div>
                        <div class="field-example">true/false</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <h2 class="text-center">Using Models in Controllers</h2>
    
    <div class="action-methods">
        <div class="methods-grid">
            <div class="method-card">
                <div class="method-header">
                    <div class="method-icon">
                        <i class="fas fa-plus"></i>
                    </div>
                    <div class="method-name">Create Model</div>
                </div>
                <div class="method-content">
                    <p><strong>Instantiate a new model</strong></p>
                    <div class="method-example">
<pre><code class="language-csharp">var student = new Student
{
    Name = "Alice Johnson",
    Age = 21,
    Email = "alice@school.edu"
};</code></pre>
                    </div>
                    <div class="method-note">Creates a new Student object in memory</div>
                </div>
            </div>
            
            <div class="method-card">
                <div class="method-header">
                    <div class="method-icon">
                        <i class="fas fa-paper-plane"></i>
                    </div>
                    <div class="method-name">Pass to View</div>
                </div>
                <div class="method-content">
                    <p><strong>Send model to view for display</strong></p>
                    <div class="method-example">
<pre><code class="language-csharp">public IActionResult Details(int id)
{
    var student = GetStudentById(id);
    return View(student);
}</code></pre>
                    </div>
                    <div class="method-note">Controller passes data to the view</div>
                </div>
            </div>
            
            <div class="method-card">
                <div class="method-header">
                    <div class="method-icon">
                        <i class="fas fa-check-circle"></i>
                    </div>
                    <div class="method-name">Validate Model</div>
                </div>
                <div class="method-content">
                    <p><strong>Check if model data is valid</strong></p>
                    <div class="method-example">
<pre><code class="language-csharp">[HttpPost]
public IActionResult Create(Student student)
{
    if (ModelState.IsValid)
    {
        // Save to database
        return RedirectToAction("Index");
    }
    return View(student);
}</code></pre>
                    </div>
                    <div class="method-note">Validation happens automatically</div>
                </div>
            </div>
            
            <div class="method-card">
                <div class="method-header">
                    <div class="method-icon">
                        <i class="fas fa-list"></i>
                    </div>
                    <div class="method-name">List of Models</div>
                </div>
                <div class="method-content">
                    <p><strong>Work with multiple models</strong></p>
                    <div class="method-example">
<pre><code class="language-csharp">public IActionResult Index()
{
    var students = GetAllStudents();
    return View(students);
}</code></pre>
                    </div>
                    <div class="method-note">Can pass lists to views</div>
                </div>
            </div>
        </div>
    </div>

    <h2 class="text-center">Using Models in Views</h2>
    
    <div class="return-types">
        <div class="returns-grid">
            <div class="return-item">
                <div class="return-icon">
                    <i class="fas fa-at"></i>
                </div>
                <div class="return-content">
                    <h5>@@model Directive</h5>
                    <p>Declares the model type</p>
                    <div class="code-snippet">
<pre><code class="language-html">@@model Student</code></pre>
                    </div>
                    <div class="return-note">Must be the first line in Razor view</div>
                </div>
            </div>
            
            <div class="return-item">
                <div class="return-icon">
                    <i class="fas fa-code"></i>
                </div>
                <div class="return-content">
                    <h5>@@Model Property</h5>
                    <p>Accesses the model object</p>
                    <div class="code-snippet">
<pre><code class="language-html">&lt;h2&gt;@@Model.Name&lt;/h2&gt;
&lt;p&gt;Age: @@Model.Age&lt;/p&gt;</code></pre>
                    </div>
                    <div class="return-note">Access properties with dot notation</div>
                </div>
            </div>
            
            <div class="return-item">
                <div class="return-icon">
                    <i class="fas fa-list-ul"></i>
                </div>
                <div class="return-content">
                    <h5>List Models</h5>
                    <p>Loop through collections</p>
                    <div class="code-snippet">
<pre><code class="language-html">@@model List&lt;Student&gt;

@@foreach (var student in Model)
{
    &lt;div&gt;@@student.Name&lt;/div&gt;
}</code></pre>
                    </div>
                    <div class="return-note">Use foreach to iterate through lists</div>
                </div>
            </div>
            
            <div class="return-item">
                <div class="return-icon">
                    <i class="fas fa-exclamation-triangle"></i>
                </div>
                <div class="return-content">
                    <h5>Validation Messages</h5>
                    <p>Show validation errors</p>
                    <div class="code-snippet">
<pre><code class="language-html">@@Html.ValidationMessageFor(m => m.Name)</code></pre>
                    </div>
                    <div class="return-note">Displays validation errors next to fields</div>
                </div>
            </div>
        </div>
    </div>

    <div class="interactive-exercise">
        <h3><i class="fas fa-code"></i> Model Knowledge Quiz</h3>
        <p>Test your understanding of models in ASP.NET Core:</p>
        
        <div class="quiz-container">
            <div class="quiz-question mb-4">
                <p><strong>Question 1:</strong> Which of the following is the correct way to declare a model in a Razor view?</p>
            </div>
            
            <div class="quiz-options mb-4">
                <div class="quiz-option" data-correct="false">
                    <div class="option-letter">A</div>
                    <div class="option-content">
                        <code>@@model = Student</code>
                    </div>
                </div>
                
                <div class="quiz-option" data-correct="true">
                    <div class="option-letter">B</div>
                    <div class="option-content">
                        <code>@@model Student</code>
                    </div>
                </div>
                
                <div class="quiz-option" data-correct="false">
                    <div class="option-letter">C</div>
                    <div class="option-content">
                        <code>model: Student</code>
                    </div>
                </div>
                
                <div class="quiz-option" data-correct="false">
                    <div class="option-letter">D</div>
                    <div class="option-content">
                        <code>@@Model Student</code>
                    </div>
                </div>
            </div>
            
            <div class="quiz-question mb-4">
                <p><strong>Question 2:</strong> What does the [Required] data annotation do?</p>
            </div>
            
            <div class="quiz-options mb-4">
                <div class="quiz-option" data-correct="false">
                    <div class="option-letter">A</div>
                    <div class="option-content">
                        Makes a field read-only
                    </div>
                </div>
                
                <div class="quiz-option" data-correct="false">
                    <div class="option-letter">B</div>
                    <div class="option-content">
                        Sets a default value for a field
                    </div>
                </div>
                
                <div class="quiz-option" data-correct="true">
                    <div class="option-letter">C</div>
                    <div class="option-content">
                        Ensures a field cannot be left empty
                    </div>
                </div>
                
                <div class="quiz-option" data-correct="false">
                    <div class="option-letter">D</div>
                    <div class="option-content">
                        Hides a field from the user
                    </div>
                </div>
            </div>
            
            <div class="quiz-feedback"></div>
            <button class="btn btn-primary mt-3" id="checkQuiz">Check Answers</button>
        </div>
    </div>

    <div class="model-types">
        <h3><i class="fas fa-layer-group"></i> Different Types of Models</h3>
        
        <div class="types-grid">
            <div class="type-item">
                <div class="type-header">
                    <div class="type-icon">
                        <i class="fas fa-cube"></i>
                    </div>
                    <h5>Domain Models</h5>
                </div>
                <div class="type-content">
                    <p>Core business entities that represent real-world objects.</p>
                    <div class="type-example">
                        <strong>Example:</strong> <code>Student</code>, <code>Course</code>, <code>Product</code>
                    </div>
                </div>
            </div>
            
            <div class="type-item">
                <div class="type-header">
                    <div class="type-icon">
                        <i class="fas fa-eye"></i>
                    </div>
                    <h5>View Models</h5>
                </div>
                <div class="type-content">
                    <p>Models specifically designed for a view, often combining multiple domain models.</p>
                    <div class="type-example">
                        <strong>Example:</strong> <code>StudentDashboardViewModel</code>
                    </div>
                </div>
            </div>
            
            <div class="type-item">
                <div class="type-header">
                    <div class="type-icon">
                        <i class="fas fa-exchange-alt"></i>
                    </div>
                    <h5>DTOs</h5>
                </div>
                <div class="type-content">
                    <p>Data Transfer Objects - simplified models for API communication.</p>
                    <div class="type-example">
                        <strong>Example:</strong> <code>CreateStudentDto</code>, <code>UpdateProductDto</code>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="key-points">
        <h3>Key Points to Remember</h3>
        <ul>
            <li><strong>Models are C# classes</strong> that represent your application's data structure</li>
            <li><strong>Data Annotations</strong> (<code>[Required]</code>, <code>[StringLength]</code>) provide automatic validation</li>
            <li><strong>@@model</strong> (lowercase) declares the model type in Razor views</li>
            <li><strong>@@Model</strong> (uppercase) accesses the model object in Razor views</li>
            <li><strong>ModelState.IsValid</strong> automatically checks all validation rules</li>
            <li><strong>Controllers create</strong> models and pass them to views</li>
            <li><strong>Views display</strong> model data but shouldn't modify it</li>
            <li>Models are the foundation for <strong>database integration</strong> with Entity Framework</li>
        </ul>
    </div>

    <div class="navigation-buttons">
        <a href="@Url.Action("ControllersExample", "Web")" class="btn btn-outline-primary ajax-link" data-path="/Web/ControllersExample">Back: Controller Example</a>
        <a href="@Url.Action("Views_", "Web")" class="btn btn-primary ajax-link" data-path="/Web/Views_">Next: View Basics</a>
    </div>
</div>

<style>
    .container { 
        max-width: 900px; 
        padding: 20px; 
        background-color: var(--bs-body-bg); 
    }
    
    h1, h2, h3, h4, h5 { 
        color: var(--bs-heading-color); 
        margin-bottom: 15px; 
    }
    
    h1 { 
        border-bottom: 2px solid var(--bs-primary); 
        padding-bottom: 10px; 
    }
    
    .beginner-note {
        background-color: rgba(13, 110, 253, 0.1);
        border: 2px solid var(--bs-primary);
        border-radius: 8px;
        padding: 20px;
        margin-bottom: 20px;
        display: flex;
        gap: 15px;
        align-items: flex-start;
    }
    
    .beginner-note-icon {
        background-color: var(--bs-primary);
        color: white;
        width: 50px;
        height: 50px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 24px;
        flex-shrink: 0;
    }
    
    .important-note {
        background-color: rgba(var(--bs-success-rgb), 0.1);
        border: 2px solid var(--bs-success);
        border-radius: 8px;
        padding: 20px;
        margin-bottom: 30px;
    }
    
    .important-note h4 {
        color: var(--bs-success);
        display: flex;
        align-items: center;
        gap: 10px;
        margin-top: 0;
    }
    
    .important-note ul {
        padding-left: 20px;
        margin: 10px 0;
    }

    .mvc-flow {
        margin: 40px 0;
    }
    
    .flow-diagram {
        display: flex;
        justify-content: space-between;
        align-items: center;
        flex-wrap: wrap;
        gap: 20px;
    }
    
    .flow-step {
        flex: 1;
        min-width: 200px;
        display: flex;
        align-items: center;
        gap: 15px;
        padding: 15px;
        background-color: rgba(255, 255, 255, 0.05);
        border-radius: 8px;
        position: relative;
    }
    
    .flow-icon {
        background-color: var(--bs-info);
        color: white;
        width: 50px;
        height: 50px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 20px;
        flex-shrink: 0;
    }
    
    .flow-content h5 {
        margin: 0 0 5px 0;
        color: var(--bs-info);
    }
    
    .flow-code {
        background-color: var(--bs-dark);
        color: var(--bs-light);
        padding: 10px;
        border-radius: 6px;
        font-family: monospace;
        margin-top: 5px;
        font-size: 0.9rem;
    }
    
    .flow-arrow {
        position: absolute;
        right: -25px;
        color: var(--bs-info);
        font-size: 24px;
        font-weight: bold;
    }
    
    .flow-arrow:after {
        content: "→";
    }
    
    @@media (max-width: 992px) {
        .flow-step {
            flex-direction: column;
            text-align: center;
        }
        
        .flow-arrow {
            right: 0;
            bottom: -25px;
            transform: rotate(90deg);
        }
    }

    .code-demo {
        margin: 40px 0;
    }
    
    .demo-explanation {
        margin-bottom: 30px;
        padding: 20px;
        background-color: rgba(23, 162, 184, 0.1);
        border-radius: 8px;
    }
    
    .model-parts {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 15px;
        margin-top: 20px;
    }
    
    .part-item {
        display: flex;
        gap: 15px;
        padding: 15px;
        background-color: rgba(255, 255, 255, 0.05);
        border-radius: 8px;
    }
    
    .part-badge {
        background-color: var(--bs-primary);
        color: white;
        width: 30px;
        height: 30px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: bold;
        flex-shrink: 0;
    }
    
    .code-example {
        border: 2px solid var(--bs-border-color);
        border-radius: 10px;
        overflow: hidden;
    }
    
    .code-header {
        background-color: #2d2d2d;
        padding: 15px 20px;
        display: flex;
        justify-content: space-between;
        align-items: center;
        border-bottom: 1px solid #404040;
    }
    
    .code-title {
        color: #e0e0e0;
        font-weight: bold;
        display: flex;
        align-items: center;
        gap: 10px;
    }
    
    .copy-btn {
        background-color: #404040;
        border: none;
        color: #e0e0e0;
    }
    
    .copy-btn:hover {
        background-color: #505050;
    }
    
    .code-content {
        background-color: #1a1a1a;
        padding: 20px;
        overflow-x: auto;
    }
    
    .code-explanation {
        background-color: #2d2d2d;
        border-top: 1px solid #404040;
        padding: 20px;
    }
    
    .explanation-header {
        color: #98c379;
        font-weight: bold;
        margin-bottom: 15px;
        display: flex;
        align-items: center;
        gap: 10px;
    }
    
    .explanation-content {
        color: #e0e0e0;
    }
    
    .explanation-content ul {
        padding-left: 20px;
        margin: 10px 0;
    }
    
    .explanation-content li {
        margin-bottom: 5px;
    }
    
    .code-output {
        background-color: #2d2d2d;
        border-top: 1px solid #404040;
        padding: 20px;
    }
    
    .output-header {
        color: #98c379;
        font-weight: bold;
        margin-bottom: 15px;
        display: flex;
        align-items: center;
        gap: 10px;
    }
    
    .model-visual {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
        gap: 10px;
    }
    
    .model-field {
        background-color: rgba(0, 0, 0, 0.2);
        padding: 10px;
        border-radius: 6px;
        text-align: center;
    }
    
    .field-name {
        color: #e06c75;
        font-weight: bold;
        font-family: monospace;
    }
    
    .field-type {
        color: #61afef;
        font-size: 0.9rem;
        margin: 5px 0;
    }
    
    .field-example {
        color: #98c379;
        font-size: 0.8rem;
        font-family: monospace;
    }

    .action-methods {
        margin: 40px 0;
    }
    
    .methods-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 20px;
    }
    
    .method-card {
        border: 1px solid var(--bs-border-color);
        border-radius: 8px;
        overflow: hidden;
        transition: all 0.3s;
    }
    
    .method-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 10px 20px rgba(0,0,0,0.1);
    }
    
    .method-header {
        background-color: var(--bs-primary);
        color: white;
        padding: 15px;
        display: flex;
        align-items: center;
        gap: 15px;
    }
    
    .method-icon {
        background-color: white;
        color: var(--bs-primary);
        width: 40px;
        height: 40px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 18px;
    }
    
    .method-name {
        font-weight: bold;
        font-size: 1.1rem;
    }
    
    .method-content {
        padding: 15px;
    }
    
    .method-example {
        background-color: #2d2d2d;
        color: #e0e0e0;
        padding: 10px;
        border-radius: 6px;
        font-size: 0.9rem;
        overflow-x: auto;
        margin: 10px 0;
    }
    
    .method-note {
        margin-top: 10px;
        font-size: 0.85rem;
        color: var(--bs-secondary);
        font-style: italic;
    }

    .return-types {
        margin: 40px 0;
    }
    
    .returns-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 20px;
    }
    
    .return-item {
        border: 1px solid var(--bs-border-color);
        border-radius: 8px;
        padding: 20px;
        text-align: center;
        transition: all 0.3s;
    }
    
    .return-item:hover {
        border-color: var(--bs-primary);
        transform: translateY(-3px);
    }
    
    .return-icon {
        background-color: var(--bs-success);
        color: white;
        width: 60px;
        height: 60px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 24px;
        margin: 0 auto 15px;
    }
    
    .return-content h5 {
        margin-top: 0;
        color: var(--bs-success);
    }
    
    .code-snippet {
        background-color: #2d2d2d;
        color: #e0e0e0;
        padding: 10px;
        border-radius: 6px;
        margin: 10px 0;
        overflow-x: auto;
    }
    
    .return-note {
        font-size: 0.85rem;
        color: var(--bs-secondary);
        font-style: italic;
        margin-top: 10px;
    }

    .interactive-exercise {
        margin: 40px 0;
        padding: 25px;
        background-color: rgba(255, 193, 7, 0.1);
        border: 1px solid var(--bs-warning);
        border-radius: 10px;
    }
    
    .interactive-exercise h3 {
        color: var(--bs-warning);
        display: flex;
        align-items: center;
        gap: 10px;
        margin-top: 0;
    }
    
    .quiz-container {
        margin: 20px 0;
    }
    
    .quiz-question {
        background-color: rgba(255, 255, 255, 0.05);
        padding: 15px;
        border-radius: 8px;
        margin-bottom: 20px;
    }
    
    .quiz-options {
        display: flex;
        flex-direction: column;
        gap: 10px;
    }
    
    .quiz-option {
        display: flex;
        gap: 15px;
        padding: 15px;
        background-color: rgba(255, 255, 255, 0.05);
        border: 2px solid transparent;
        border-radius: 8px;
        cursor: pointer;
        transition: all 0.3s;
    }
    
    .quiz-option:hover {
        background-color: rgba(255, 193, 7, 0.1);
        border-color: var(--bs-warning);
    }
    
    .quiz-option.selected {
        background-color: rgba(13, 110, 253, 0.1);
        border-color: var(--bs-primary);
    }
    
    .quiz-option.correct {
        background-color: rgba(40, 167, 69, 0.1);
        border-color: var(--bs-success);
    }
    
    .quiz-option.incorrect {
        background-color: rgba(220, 53, 69, 0.1);
        border-color: var(--bs-danger);
    }
    
    .option-letter {
        background-color: var(--bs-primary);
        color: white;
        width: 40px;
        height: 40px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: bold;
        font-size: 1.2rem;
        flex-shrink: 0;
    }
    
    .quiz-option.correct .option-letter {
        background-color: var(--bs-success);
    }
    
    .quiz-option.incorrect .option-letter {
        background-color: var(--bs-danger);
    }
    
    .option-content {
        flex: 1;
        display: flex;
        align-items: center;
    }
    
    .quiz-feedback {
        margin-top: 20px;
        padding: 15px;
        border-radius: 6px;
        display: none;
        border: 1px solid transparent;
        font-weight: 500;
    }
    
    .quiz-feedback.success {
        background-color: rgba(40, 167, 69, 0.2);
        color: #d4edda;
        border-color: #28a745;
        display: block;
    }
    
    .quiz-feedback.error {
        background-color: rgba(220, 53, 69, 0.2);
        color: #f8d7da;
        border-color: #dc3545;
        display: block;
    }
    
    .quiz-feedback.partial {
        background-color: rgba(255, 193, 7, 0.2);
        color: #fff3cd;
        border-color: #ffc107;
        display: block;
    }

    .model-types {
        margin: 40px 0;
        padding: 25px;
        background-color: rgba(111, 66, 193, 0.1);
        border: 1px solid var(--bs-indigo);
        border-radius: 10px;
    }
    
    .model-types h3 {
        color: var(--bs-indigo);
        display: flex;
        align-items: center;
        gap: 10px;
        margin-top: 0;
    }
    
    .types-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 20px;
        margin-top: 20px;
    }
    
    .type-item {
        border: 1px solid var(--bs-border-color);
        border-radius: 8px;
        padding: 20px;
        background-color: rgba(255, 255, 255, 0.05);
    }
    
    .type-header {
        display: flex;
        align-items: center;
        gap: 15px;
        margin-bottom: 15px;
    }
    
    .type-icon {
        background-color: var(--bs-indigo);
        color: white;
        width: 40px;
        height: 40px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 18px;
    }
    
    .type-header h5 {
        margin: 0;
        color: var(--bs-indigo);
    }
    
    .type-content p {
        margin-bottom: 10px;
        color: var(--bs-body-color);
    }
    
    .type-example {
        background-color: rgba(111, 66, 193, 0.1);
        padding: 10px;
        border-radius: 6px;
        font-family: monospace;
        font-size: 0.9rem;
    }

    .key-points {
        margin: 30px 0;
        padding: 25px;
        background-color: rgba(13, 110, 253, 0.1);
        border: 1px solid var(--bs-primary);
        border-radius: 10px;
    }
    
    .key-points h3 {
        color: var(--bs-primary);
        margin-top: 0;
    }
    
    .key-points ul {
        list-style: none;
        padding: 0;
        margin: 0;
    }
    
    .key-points li {
        padding: 10px 0;
        border-bottom: 1px solid rgba(13, 110, 253, 0.2);
        position: relative;
        padding-left: 30px;
    }
    
    .key-points li:before {
        content: "•";
        position: absolute;
        left: 0;
        color: var(--bs-primary);
        font-weight: bold;
        font-size: 1.5rem;
    }
    
    .key-points li:last-child {
        border-bottom: none;
    }

    .navigation-buttons {
        display: flex;
        justify-content: space-between;
        margin-top: 40px;
        padding-top: 20px;
        border-top: 2px solid var(--bs-border-color);
    }
    
    .btn {
        padding: 12px 25px;
        border-radius: 6px;
        font-weight: 500;
        transition: all 0.3s;
    }
    
    .btn:hover {
        transform: translateY(-2px);
    }

    @@media (max-width: 768px) {
        .beginner-note {
            flex-direction: column;
            text-align: center;
        }
        
        .quiz-option {
            flex-direction: column;
            align-items: flex-start;
        }
        
        .option-letter {
            align-self: flex-start;
        }
        
        .navigation-buttons {
            flex-direction: column;
            gap: 10px;
        }
        
        .navigation-buttons .btn {
            width: 100%;
            text-align: center;
        }
    }
</style>

<script>
$(document).ready(function() {
    if (typeof hljs !== 'undefined') {
        hljs.highlightAll();
    }

    $('.copy-btn').on('click', function() {
        const $codeElement = $(this).closest('.code-example').find('code');
        const codeText = $codeElement.text();
        
        navigator.clipboard.writeText(codeText).then(() => {
            const originalText = $(this).html();
            $(this).html('<i class="fas fa-check"></i> Copied!');
            $(this).addClass('btn-success').removeClass('btn-outline-secondary');
            
            setTimeout(() => {
                $(this).html(originalText);
                $(this).removeClass('btn-success').addClass('btn-outline-secondary');
            }, 2000);
        });
    });

    let selectedOptions = {
        question1: null,
        question2: null
    };
    
    $('.quiz-option').on('click', function() {
        const $option = $(this);
        const questionNumber = $option.closest('.quiz-options').prev('.quiz-question').text().includes('Question 1') ? 1 : 2;
        const key = `question${questionNumber}`;
        
        $option.siblings().removeClass('selected');
        
        $option.addClass('selected');
        selectedOptions[key] = $option;
        
        $option.closest('.quiz-options').nextAll('.question-feedback').first().remove();
    });

    $('#checkQuiz').on('click', function() {
        const $feedback = $('.quiz-feedback');
        let correctCount = 0;
        let totalQuestions = 2;
        
        $('.quiz-option').each(function() {
            $(this).removeClass('correct incorrect');
        });
        
        if (selectedOptions.question1) {
            const isCorrect1 = selectedOptions.question1.data('correct') === true;
            if (isCorrect1) {
                selectedOptions.question1.addClass('correct');
                correctCount++;
                
                selectedOptions.question1.closest('.quiz-options').after(`
                    <div class="question-feedback success" style="margin-top: 10px; padding: 10px; background-color: rgba(40, 167, 69, 0.1); border-radius: 6px;">
                        <i class="fas fa-check-circle"></i> <strong>Correct!</strong> <code>@@model Student</code> (lowercase) declares the model type in Razor views.
                    </div>
                `);
            } else {
                selectedOptions.question1.addClass('incorrect');
                
                const correctOption1 = selectedOptions.question1.closest('.quiz-options').find('[data-correct="true"]');
                correctOption1.addClass('correct');
                
                selectedOptions.question1.closest('.quiz-options').after(`
                    <div class="question-feedback error" style="margin-top: 10px; padding: 10px; background-color: rgba(220, 53, 69, 0.1); border-radius: 6px;">
                        <i class="fas fa-times-circle"></i> <strong>Incorrect.</strong> The correct syntax is <strong>@@model Student</strong> (lowercase m). Remember: @@model declares, @@Model accesses.
                    </div>
                `);
            }
        }
        
        if (selectedOptions.question2) {
            const isCorrect2 = selectedOptions.question2.data('correct') === true;
            if (isCorrect2) {
                selectedOptions.question2.addClass('correct');
                correctCount++;
                
                selectedOptions.question2.closest('.quiz-options').after(`
                    <div class="question-feedback success" style="margin-top: 10px; padding: 10px; background-color: rgba(40, 167, 69, 0.1); border-radius: 6px;">
                        <i class="fas fa-check-circle"></i> <strong>Correct!</strong> The [Required] attribute ensures a field must have a value before the model is considered valid.
                    </div>
                `);
            } else {
                selectedOptions.question2.addClass('incorrect');
                
                const correctOption2 = selectedOptions.question2.closest('.quiz-options').find('[data-correct="true"]');
                correctOption2.addClass('correct');
                
                selectedOptions.question2.closest('.quiz-options').after(`
                    <div class="question-feedback error" style="margin-top: 10px; padding: 10px; background-color: rgba(220, 53, 69, 0.1); border-radius: 6px;">
                        <i class="fas fa-times-circle"></i> <strong>Incorrect.</strong> The [Required] attribute <strong>ensures a field cannot be left empty</strong>. It's the most common validation attribute.
                    </div>
                `);
            }
        }
        
        if (correctCount === 0) {
            $feedback.html(`
                <div style="display: flex; align-items: center; gap: 10px;">
                    <i class="fas fa-exclamation-circle" style="color: #dc3545; font-size: 1.5rem;"></i>
                    <div>
                        <strong>Better luck next time!</strong><br>
                        You got ${correctCount} out of ${totalQuestions} correct. Review the model basics section.
                    </div>
                </div>
            `).removeClass('success partial').addClass('error').show();
        } else if (correctCount === totalQuestions) {
            $feedback.html(`
                <div style="display: flex; align-items: center; gap: 10px;">
                    <i class="fas fa-check-circle" style="color: #28a745; font-size: 1.5rem;"></i>
                    <div>
                        <strong>Excellent!</strong><br>
                        You got all ${correctCount} questions correct! You have a good understanding of model basics.
                    </div>
                </div>
            `).removeClass('error partial').addClass('success').show();
        } else {
            $feedback.html(`
                <div style="display: flex; align-items: center; gap: 10px;">
                    <i class="fas fa-check-circle" style="color: #ffc107; font-size: 1.5rem;"></i>
                    <div>
                        <strong>Good job!</strong><br>
                        You got ${correctCount} out of ${totalQuestions} correct. Review the answers to improve your understanding.
                    </div>
                </div>
            `).removeClass('success error').addClass('partial').show();
        }
        
        $('html, body').animate({
            scrollTop: $feedback.offset().top - 100
        }, 500);
    });

    $('.method-card').on('click', function() {
        const $card = $(this);
        $card.toggleClass('active');
        
        if ($card.hasClass('active')) {
            $card.css('transform', 'translateY(-8px) scale(1.02)');
            $card.css('box-shadow', '0 15px 30px rgba(0,0,0,0.2)');
        } else {
            $card.css('transform', 'translateY(0) scale(1)');
            $card.css('box-shadow', 'none');
        }
    });

    const flowSteps = $('.flow-step');
    flowSteps.each(function(index) {
        $(this).css({
            'opacity': '0',
            'transform': 'translateY(20px)',
            'transition': 'all 0.5s ease ' + (index * 0.2) + 's'
        });
    });

    setTimeout(() => {
        flowSteps.each(function(index) {
            $(this).css({
                'opacity': '1',
                'transform': 'translateY(0)'
            });
        });
    }, 500);

    $('.type-item').hover(
        function() {
            $(this).css('transform', 'translateY(-5px)');
            $(this).css('box-shadow', '0 10px 20px rgba(0,0,0,0.1)');
        },
        function() {
            $(this).css('transform', 'translateY(0)');
            $(this).css('box-shadow', 'none');
        }
    );

    $('.navigation-buttons a').addClass('ajax-link');
});
</script>